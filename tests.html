<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Luaparse</title>
    <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" rel="stylesheet">
    <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap-responsive.css" rel="stylesheet">
    <style>
      .hero-unit .nav-pills a {
        font-size: 70%;
        color: #797979;
        margin-top: 4px;
      }
      .hero-unit .nav-pills a:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <div class="hero-unit">
      <div class="container">
        <div class="row">
          <div class="span6">
            <h1>Luaparse</h1>
            <p>A Lua parser written in JavaScript, for my bachelor's thesis at Arcada.</p>
          </div>
          <div class="span6" style="padding-top: 35px;">
            <div class="btn-group">
              <a class="btn" href="https://github.com/oxyc/luaparse">Github</a>
              <a class="btn" href="luaparse.html">Annotated source</a>
              <a class="btn" href="tests.html">Test docs</a>
            </div>
            <ul class="nav nav-pills">
              <li><a href="index.html">Home</a></li>
              <li><a href="coverage.html">Coverage</a></li>
              <li><a href="test/index.html">Tests</a></li>
              <li><a href="examples.html">Examples</a></li>
              <li class="disabled"><a href="#"><del>Benchmarks</del></a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
    <dt>a                                       -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a', {wait:true}).end)
  .throws('[1:1] Unexpected symbol \'&lt;eof&gt;\' near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a,                                      -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a,', {wait:true}).end)
  .throws('[1:2] \'=\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a,b,c                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a,b,c', {wait:true}).end)
  .throws('[1:5] \'=\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a,b =                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a,b =', {wait:true}).end)
  .throws('[1:5] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = 1</dt>
    <dd><pre><code>expect(parser.parse('a = 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1,2,3</dt>
    <dd><pre><code>expect(parser.parse('a = 1,2,3')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        },
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 2
        },
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 3
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a,b,c = 1</dt>
    <dd><pre><code>expect(parser.parse('a,b,c = 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;c&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a,b,c = 1,2,3</dt>
    <dd><pre><code>expect(parser.parse('a,b,c = 1,2,3')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;c&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        },
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 2
        },
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 3
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a.b = 1</dt>
    <dd><pre><code>expect(parser.parse('a.b = 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a.b.c = 1</dt>
    <dd><pre><code>expect(parser.parse('a.b.c = 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          }
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a[b] = 1</dt>
    <dd><pre><code>expect(parser.parse('a[b] = 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          }
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a[b][c] = 1</dt>
    <dd><pre><code>expect(parser.parse('a[b][c] = 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          }
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a.b[c] = 1</dt>
    <dd><pre><code>expect(parser.parse('a.b[c] = 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          }
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a[b].c = 1</dt>
    <dd><pre><code>expect(parser.parse('a[b].c = 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          }
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>0 =                                     -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('0 =', {wait:true}).end)
  .throws('[1:0] Unexpected symbol \'0\' near \'0\'');</code></pre></dd>
    <dt>&quot;foo&quot; =                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('&quot;foo&quot; =', {wait:true}).end)
  .throws('[1:0] Unexpected symbol \'foo\' near \'foo\'');</code></pre></dd>
    <dt>true =                                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('true =', {wait:true}).end)
  .throws('[1:0] Unexpected symbol \'true\' near \'true\'');</code></pre></dd>
    <dt>(a) =                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('(a) =', {wait:true}).end)
  .throws('[1:5] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>{} =                                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('{} =', {wait:true}).end)
  .throws('[1:0] Unexpected symbol \'{\' near \'{\'');</code></pre></dd>
    <dt>a:b() =                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a:b() =', {wait:true}).end)
  .throws('[1:7] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a() =                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a() =', {wait:true}).end)
  .throws('[1:5] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a.b:c() =                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a.b:c() =', {wait:true}).end)
  .throws('[1:9] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a[b]() =                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a[b]() =', {wait:true}).end)
  .throws('[1:8] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = a b                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = a b', {wait:true}).end)
  .throws('[1:7] Unexpected symbol \'&lt;eof&gt;\' near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = 1 2                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = 1 2', {wait:true}).end)
  .throws('[1:6] Unexpected symbol \'2\' near \'2\'');</code></pre></dd>
    <dt>a = a = 1                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = a = 1', {wait:true}).end)
  .throws('[1:6] Unexpected symbol \'=\' near \'=\'');</code></pre></dd>
    <dt>-- comment</dt>
    <dd><pre><code>expect(parser.parse('-- comment')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [],
  &quot;comments&quot;: [
    {
      &quot;type&quot;: &quot;Comment&quot;,
      &quot;value&quot;: &quot; comment&quot;
    }
  ]
});</code></pre></dd>
    <dt>--coment</dt>
    <dd><pre><code>expect(parser.parse('--coment')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [],
  &quot;comments&quot;: [
    {
      &quot;type&quot;: &quot;Comment&quot;,
      &quot;value&quot;: &quot;coment&quot;
    }
  ]
});</code></pre></dd>
    <dt>-- comment\nbreak</dt>
    <dd><pre><code>expect(parser.parse('-- comment\nbreak')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;BreakStatement&quot;
    }
  ],
  &quot;comments&quot;: [
    {
      &quot;type&quot;: &quot;Comment&quot;,
      &quot;value&quot;: &quot; comment&quot;
    }
  ]
});</code></pre></dd>
    <dt>break--comment</dt>
    <dd><pre><code>expect(parser.parse('break--comment')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;BreakStatement&quot;
    }
  ],
  &quot;comments&quot;: [
    {
      &quot;type&quot;: &quot;Comment&quot;,
      &quot;value&quot;: &quot;comment&quot;
    }
  ]
});</code></pre></dd>
    <dt>--[[comment]]--</dt>
    <dd><pre><code>expect(parser.parse('--[[comment]]--')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [],
  &quot;comments&quot;: [
    {
      &quot;type&quot;: &quot;Comment&quot;,
      &quot;value&quot;: &quot;comment&quot;
    }
  ]
});</code></pre></dd>
    <dt>--[[comment]]--break</dt>
    <dd><pre><code>expect(parser.parse('--[[comment]]--break')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;BreakStatement&quot;
    }
  ],
  &quot;comments&quot;: [
    {
      &quot;type&quot;: &quot;Comment&quot;,
      &quot;value&quot;: &quot;comment&quot;
    }
  ]
});</code></pre></dd>
    <dt>--[=[comment]=]--break</dt>
    <dd><pre><code>expect(parser.parse('--[=[comment]=]--break')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;BreakStatement&quot;
    }
  ],
  &quot;comments&quot;: [
    {
      &quot;type&quot;: &quot;Comment&quot;,
      &quot;value&quot;: &quot;comment&quot;
    }
  ]
});</code></pre></dd>
    <dt>--[===[comment\n--[=[sub]=]--\n]===]--break</dt>
    <dd><pre><code>expect(parser.parse('--[===[comment\n--[=[sub]=]--\n]===]--break')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;BreakStatement&quot;
    }
  ],
  &quot;comments&quot;: [
    {
      &quot;type&quot;: &quot;Comment&quot;,
      &quot;value&quot;: &quot;comment\n--[=[sub]=]--\n&quot;
    }
  ]
});</code></pre></dd>
    <dt>--[[comment\nline two]]--</dt>
    <dd><pre><code>expect(parser.parse('--[[comment\nline two]]--')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [],
  &quot;comments&quot;: [
    {
      &quot;type&quot;: &quot;Comment&quot;,
      &quot;value&quot;: &quot;comment\nline two&quot;
    }
  ]
});</code></pre></dd>
    <dt>--[[\ncomment\nline two\n]]--</dt>
    <dd><pre><code>expect(parser.parse('--[[\ncomment\nline two\n]]--')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [],
  &quot;comments&quot;: [
    {
      &quot;type&quot;: &quot;Comment&quot;,
      &quot;value&quot;: &quot;comment\nline two\n&quot;
    }
  ]
});</code></pre></dd>
    <dt>if true -- comment\nthen end</dt>
    <dd><pre><code>expect(parser.parse('if true -- comment\nthen end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: true
          },
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: [
    {
      &quot;type&quot;: &quot;Comment&quot;,
      &quot;value&quot;: &quot; comment&quot;
    }
  ]
});</code></pre></dd>
    <dt>if                                      -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('if', {wait:true}).end)
  .throws('[1:2] \'then\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>elseif                                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('elseif', {wait:true}).end)
  .throws('[1:0] Unexpected symbol \'elseif\' near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>else                                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('else', {wait:true}).end)
  .throws('[1:0] Unexpected symbol \'else\' near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>then                                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('then', {wait:true}).end)
  .throws('[1:0] Unexpected symbol \'then\' near \'then\'');</code></pre></dd>
    <dt>if then                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('if then', {wait:true}).end)
  .throws('[1:7] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>if 1                                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('if 1', {wait:true}).end)
  .throws('[1:4] \'then\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>if 1 then                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('if 1 then', {wait:true}).end)
  .throws('[1:9] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>if 1 else                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('if 1 else', {wait:true}).end)
  .throws('[1:5] \'then\' expected near \'else\'');</code></pre></dd>
    <dt>if 1 then else                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('if 1 then else', {wait:true}).end)
  .throws('[1:14] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>if 1 then elseif                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('if 1 then elseif', {wait:true}).end)
  .throws('[1:16] \'then\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>if 1 then end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then local a end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then local a end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;a&quot;
                }
              ],
              &quot;init&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then local a local b end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then local a local b end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;a&quot;
                }
              ],
              &quot;init&quot;: []
            },
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;b&quot;
                }
              ],
              &quot;init&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then local a; local b; end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then local a; local b; end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;a&quot;
                }
              ],
              &quot;init&quot;: []
            },
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;b&quot;
                }
              ],
              &quot;init&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then else end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then else end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: []
        },
        {
          &quot;condition&quot;: null,
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then local a else local b end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then local a else local b end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;a&quot;
                }
              ],
              &quot;init&quot;: []
            }
          ]
        },
        {
          &quot;condition&quot;: null,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;b&quot;
                }
              ],
              &quot;init&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then local a; else local b; end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then local a; else local b; end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;a&quot;
                }
              ],
              &quot;init&quot;: []
            }
          ]
        },
        {
          &quot;condition&quot;: null,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;b&quot;
                }
              ],
              &quot;init&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then elseif 2                      -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('if 1 then elseif 2', {wait:true}).end)
  .throws('[1:18] \'then\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>if 1 then elseif 2 then                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('if 1 then elseif 2 then', {wait:true}).end)
  .throws('[1:23] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>if 1 then elseif 2 then end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then elseif 2 then end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: []
        },
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          },
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then local a elseif 2 then local b end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then local a elseif 2 then local b end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;a&quot;
                }
              ],
              &quot;init&quot;: []
            }
          ]
        },
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          },
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;b&quot;
                }
              ],
              &quot;init&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then local a; elseif 2 then local b; end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then local a; elseif 2 then local b; end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;a&quot;
                }
              ],
              &quot;init&quot;: []
            }
          ]
        },
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          },
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;LocalStatement&quot;,
              &quot;variables&quot;: [
                {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;b&quot;
                }
              ],
              &quot;init&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then elseif 2 then else end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then elseif 2 then else end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: []
        },
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          },
          &quot;body&quot;: []
        },
        {
          &quot;condition&quot;: null,
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then else if 2 then end end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then else if 2 then end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: []
        },
        {
          &quot;condition&quot;: null,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;IfStatement&quot;,
              &quot;clauses&quot;: [
                {
                  &quot;condition&quot;: {
                    &quot;type&quot;: &quot;Literal&quot;,
                    &quot;value&quot;: 2
                  },
                  &quot;body&quot;: []
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then else if 2 then end            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('if 1 then else if 2 then end', {wait:true}).end)
  .throws('[1:28] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>if 1 then return end</dt>
    <dd><pre><code>expect(parser.parse('if 1 then return end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;ReturnStatement&quot;,
              &quot;arguments&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>if 1 then return return end             -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('if 1 then return return end', {wait:true}).end)
  .throws('[1:17] \'end\' expected near \'return\'');</code></pre></dd>
    <dt>if 1 then end; if 1 then end;</dt>
    <dd><pre><code>expect(parser.parse('if 1 then end; if 1 then end;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: []
        }
      ]
    },
    {
      &quot;type&quot;: &quot;IfStatement&quot;,
      &quot;clauses&quot;: [
        {
          &quot;condition&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>do                                      -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('do', {wait:true}).end)
  .throws('[1:2] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>end                                     -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('end', {wait:true}).end)
  .throws('[1:0] Unexpected symbol \'end\' near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>do end</dt>
    <dd><pre><code>expect(parser.parse('do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;DoStatement&quot;,
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>do 1 end                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('do 1 end', {wait:true}).end)
  .throws('[1:3] Unexpected symbol \'1\' near \'1\'');</code></pre></dd>
    <dt>do &quot;foo&quot; end                            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('do &quot;foo&quot; end', {wait:true}).end)
  .throws('[1:3] Unexpected symbol \'foo\' near \'foo\'');</code></pre></dd>
    <dt>do local a, b end</dt>
    <dd><pre><code>expect(parser.parse('do local a, b end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;DoStatement&quot;,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>do local a local b end</dt>
    <dd><pre><code>expect(parser.parse('do local a local b end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;DoStatement&quot;,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>do local a; local b; end</dt>
    <dd><pre><code>expect(parser.parse('do local a; local b; end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;DoStatement&quot;,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>do local a = 1 end</dt>
    <dd><pre><code>expect(parser.parse('do local a = 1 end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;DoStatement&quot;,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: [
            {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 1
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>do do end end</dt>
    <dd><pre><code>expect(parser.parse('do do end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;DoStatement&quot;,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>do do end; end</dt>
    <dd><pre><code>expect(parser.parse('do do end; end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;DoStatement&quot;,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>do do do end end end</dt>
    <dd><pre><code>expect(parser.parse('do do do end end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;DoStatement&quot;,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;DoStatement&quot;,
              &quot;body&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>do do do end; end; end</dt>
    <dd><pre><code>expect(parser.parse('do do do end; end; end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;DoStatement&quot;,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;DoStatement&quot;,
              &quot;body&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>do do do return end end end</dt>
    <dd><pre><code>expect(parser.parse('do do do return end end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;DoStatement&quot;,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;DoStatement&quot;,
              &quot;body&quot;: [
                {
                  &quot;type&quot;: &quot;ReturnStatement&quot;,
                  &quot;arguments&quot;: []
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>do end do                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('do end do', {wait:true}).end)
  .throws('[1:9] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>do end end                              -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('do end end', {wait:true}).end)
  .throws('[1:7] Unexpected symbol \'end\' near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>do return end</dt>
    <dd><pre><code>expect(parser.parse('do return end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;DoStatement&quot;,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;ReturnStatement&quot;,
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>do return return end                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('do return return end', {wait:true}).end)
  .throws('[1:10] \'end\' expected near \'return\'');</code></pre></dd>
    <dt>a =                                     -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a =', {wait:true}).end)
  .throws('[1:3] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = [[foo]]</dt>
    <dd><pre><code>expect(parser.parse('a = [[foo]]')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: &quot;foo&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = {}</dt>
    <dd><pre><code>expect(parser.parse('a = {}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (a)</dt>
    <dd><pre><code>expect(parser.parse('a = (a)')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (nil)</dt>
    <dd><pre><code>expect(parser.parse('a = (nil)')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: null
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (true)</dt>
    <dd><pre><code>expect(parser.parse('a = (true)')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: true
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (1)</dt>
    <dd><pre><code>expect(parser.parse('a = (1)')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (&quot;foo&quot;)</dt>
    <dd><pre><code>expect(parser.parse('a = (&quot;foo&quot;)')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: &quot;foo&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = ([[foo]])</dt>
    <dd><pre><code>expect(parser.parse('a = ([[foo]])')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: &quot;foo&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = ({})</dt>
    <dd><pre><code>expect(parser.parse('a = ({})')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a.b</dt>
    <dd><pre><code>expect(parser.parse('a = a.b')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a.b.                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = a.b.', {wait:true}).end)
  .throws('[1:8] &lt;name&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = a.b.c</dt>
    <dd><pre><code>expect(parser.parse('a = a.b.c')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a:b                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = a:b', {wait:true}).end)
  .throws('[1:7] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = a[b]</dt>
    <dd><pre><code>expect(parser.parse('a = a[b]')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a[1]</dt>
    <dd><pre><code>expect(parser.parse('a = a[1]')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a[&quot;foo&quot;]</dt>
    <dd><pre><code>expect(parser.parse('a = a[&quot;foo&quot;]')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;foo&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a[b][c]</dt>
    <dd><pre><code>expect(parser.parse('a = a[b][c]')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a.b[c]</dt>
    <dd><pre><code>expect(parser.parse('a = a.b[c]')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a[b].c</dt>
    <dd><pre><code>expect(parser.parse('a = a[b].c')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (a)[b]</dt>
    <dd><pre><code>expect(parser.parse('a = (a)[b]')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (a).c</dt>
    <dd><pre><code>expect(parser.parse('a = (a).c')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = ()                                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = ()', {wait:true}).end)
  .throws('[1:6] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = a()</dt>
    <dd><pre><code>expect(parser.parse('a = a()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;CallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a.b()</dt>
    <dd><pre><code>expect(parser.parse('a = a.b()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;CallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          },
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a[b]()</dt>
    <dd><pre><code>expect(parser.parse('a = a[b]()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;CallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          },
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a:b()</dt>
    <dd><pre><code>expect(parser.parse('a = a:b()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;CallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;:&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          },
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (a)()</dt>
    <dd><pre><code>expect(parser.parse('a = (a)()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;CallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (a).b()</dt>
    <dd><pre><code>expect(parser.parse('a = (a).b()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;CallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          },
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (a)[b]()</dt>
    <dd><pre><code>expect(parser.parse('a = (a)[b]()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;CallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          },
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (a):b()</dt>
    <dd><pre><code>expect(parser.parse('a = (a):b()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;CallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;:&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          },
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a&quot;foo&quot;</dt>
    <dd><pre><code>expect(parser.parse('a = a&quot;foo&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;StringCallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;argument&quot;: &quot;foo&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a{}</dt>
    <dd><pre><code>expect(parser.parse('a = a{}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableCallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;TableConstructorExpression&quot;,
            &quot;fields&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = function                            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = function', {wait:true}).end)
  .throws('[1:12] \'(\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = function 1                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = function 1', {wait:true}).end)
  .throws('[1:13] \'(\' expected near \'1\'');</code></pre></dd>
    <dt>a = function a                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = function a', {wait:true}).end)
  .throws('[1:13] \'(\' expected near \'a\'');</code></pre></dd>
    <dt>a = function end                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = function end', {wait:true}).end)
  .throws('[1:13] \'(\' expected near \'end\'');</code></pre></dd>
    <dt>a = function(                           -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = function(', {wait:true}).end)
  .throws('[1:13] &lt;name&gt; or \'...\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = function() end</dt>
    <dd><pre><code>expect(parser.parse('a = function() end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;FunctionDeclaration&quot;,
          &quot;identifier&quot;: null,
          &quot;vararg&quot;: false,
          &quot;local&quot;: false,
          &quot;parameters&quot;: [],
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = function(1                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = function(1', {wait:true}).end)
  .throws('[1:13] &lt;name&gt; or \'...\' expected near \'1\'');</code></pre></dd>
    <dt>a = function(p) end</dt>
    <dd><pre><code>expect(parser.parse('a = function(p) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;FunctionDeclaration&quot;,
          &quot;identifier&quot;: null,
          &quot;vararg&quot;: false,
          &quot;local&quot;: false,
          &quot;parameters&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;p&quot;
            }
          ],
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = function(p,)                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = function(p,)', {wait:true}).end)
  .throws('[1:15] &lt;name&gt; expected near \')\'');</code></pre></dd>
    <dt>a = function(p q                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = function(p q', {wait:true}).end)
  .throws('[1:15] &lt;name&gt; or \'...\' expected near \'q\'');</code></pre></dd>
    <dt>a = function(p,q,r) end</dt>
    <dd><pre><code>expect(parser.parse('a = function(p,q,r) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;FunctionDeclaration&quot;,
          &quot;identifier&quot;: null,
          &quot;vararg&quot;: false,
          &quot;local&quot;: false,
          &quot;parameters&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;p&quot;
            },
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;q&quot;
            },
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;r&quot;
            }
          ],
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = function(p,q,1                      -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = function(p,q,1', {wait:true}).end)
  .throws('[1:17] &lt;name&gt; expected near \'1\'');</code></pre></dd>
    <dt>a = function(...) end</dt>
    <dd><pre><code>expect(parser.parse('a = function(...) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;FunctionDeclaration&quot;,
          &quot;identifier&quot;: null,
          &quot;vararg&quot;: true,
          &quot;local&quot;: false,
          &quot;parameters&quot;: [],
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = function(...,                       -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = function(...,', {wait:true}).end)
  .throws('[1:16] &lt;name&gt; or \'...\' expected near \',\'');</code></pre></dd>
    <dt>a = function(p,...) end</dt>
    <dd><pre><code>expect(parser.parse('a = function(p,...) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;FunctionDeclaration&quot;,
          &quot;identifier&quot;: null,
          &quot;vararg&quot;: true,
          &quot;local&quot;: false,
          &quot;parameters&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;p&quot;
            }
          ],
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = function(p,q,r,...) end</dt>
    <dd><pre><code>expect(parser.parse('a = function(p,q,r,...) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;FunctionDeclaration&quot;,
          &quot;identifier&quot;: null,
          &quot;vararg&quot;: true,
          &quot;local&quot;: false,
          &quot;parameters&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;p&quot;
            },
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;q&quot;
            },
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;r&quot;
            }
          ],
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for                                     -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for', {wait:true}).end)
  .throws('[1:3] &lt;name&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>for do                                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for do', {wait:true}).end)
  .throws('[1:4] &lt;name&gt; expected near \'do\'');</code></pre></dd>
    <dt>for end                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for end', {wait:true}).end)
  .throws('[1:4] &lt;name&gt; expected near \'end\'');</code></pre></dd>
    <dt>for 1                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for 1', {wait:true}).end)
  .throws('[1:4] &lt;name&gt; expected near \'1\'');</code></pre></dd>
    <dt>for a                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a', {wait:true}).end)
  .throws('[1:5] \'in\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>for true                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for true', {wait:true}).end)
  .throws('[1:4] &lt;name&gt; expected near \'true\'');</code></pre></dd>
    <dt>for a, in                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a, in', {wait:true}).end)
  .throws('[1:7] &lt;name&gt; expected near \'in\'');</code></pre></dd>
    <dt>for a in                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a in', {wait:true}).end)
  .throws('[1:8] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>for a do                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a do', {wait:true}).end)
  .throws('[1:6] \'in\' expected near \'do\'');</code></pre></dd>
    <dt>for a in do                             -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a in do', {wait:true}).end)
  .throws('[1:9] &lt;expression&gt; expected near \'do\'');</code></pre></dd>
    <dt>for a in b do                           -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a in b do', {wait:true}).end)
  .throws('[1:13] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>for a in b end                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a in b end', {wait:true}).end)
  .throws('[1:11] \'do\' expected near \'end\'');</code></pre></dd>
    <dt>for a in b, do                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a in b, do', {wait:true}).end)
  .throws('[1:12] &lt;expression&gt; expected near \'do\'');</code></pre></dd>
    <dt>for a in b do end</dt>
    <dd><pre><code>expect(parser.parse('for a in b do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a in b do local a local b end</dt>
    <dd><pre><code>expect(parser.parse('for a in b do local a local b end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        }
      ],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a in b do local a; local b; end</dt>
    <dd><pre><code>expect(parser.parse('for a in b do local a; local b; end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        }
      ],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a in b do 1 end                     -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a in b do 1 end', {wait:true}).end)
  .throws('[1:14] Unexpected symbol \'1\' near \'1\'');</code></pre></dd>
    <dt>for a in b do &quot;foo&quot; end                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a in b do &quot;foo&quot; end', {wait:true}).end)
  .throws('[1:14] Unexpected symbol \'foo\' near \'foo\'');</code></pre></dd>
    <dt>for a b in                              -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a b in', {wait:true}).end)
  .throws('[1:6] \'in\' expected near \'b\'');</code></pre></dd>
    <dt>for a, b, c in p do end</dt>
    <dd><pre><code>expect(parser.parse('for a, b, c in p do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;c&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a, b, c in p, q, r do end</dt>
    <dd><pre><code>expect(parser.parse('for a, b, c in p, q, r do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;c&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;q&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;r&quot;
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a in 1 do end</dt>
    <dd><pre><code>expect(parser.parse('for a in 1 do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a in true do end</dt>
    <dd><pre><code>expect(parser.parse('for a in true do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: true
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a in &quot;foo&quot; do end</dt>
    <dd><pre><code>expect(parser.parse('for a in &quot;foo&quot; do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: &quot;foo&quot;
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a in b do break end</dt>
    <dd><pre><code>expect(parser.parse('for a in b do break end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        }
      ],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;BreakStatement&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a in b do return end</dt>
    <dd><pre><code>expect(parser.parse('for a in b do return end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        }
      ],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;ReturnStatement&quot;,
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a in b do return return end         -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a in b do return return end', {wait:true}).end)
  .throws('[1:21] \'end\' expected near \'return\'');</code></pre></dd>
    <dt>for a in b do do end end</dt>
    <dd><pre><code>expect(parser.parse('for a in b do do end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        }
      ],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a in b do do break end end</dt>
    <dd><pre><code>expect(parser.parse('for a in b do do break end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        }
      ],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;BreakStatement&quot;
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a in b do do return end end</dt>
    <dd><pre><code>expect(parser.parse('for a in b do do return end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForGenericStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;iterators&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        }
      ],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;ReturnStatement&quot;,
              &quot;arguments&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for =                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for =', {wait:true}).end)
  .throws('[1:4] &lt;name&gt; expected near \'=\'');</code></pre></dd>
    <dt>for a =                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a =', {wait:true}).end)
  .throws('[1:7] \',\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>for a, b =                              -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a, b =', {wait:true}).end)
  .throws('[1:9] \'in\' expected near \'=\'');</code></pre></dd>
    <dt>for a = do                              -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a = do', {wait:true}).end)
  .throws('[1:8] \',\' expected near \'do\'');</code></pre></dd>
    <dt>for a = 1, do                           -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a = 1, do', {wait:true}).end)
  .throws('[1:13] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>for a = p, q, do                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a = p, q, do', {wait:true}).end)
  .throws('[1:16] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>for a = p q do                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a = p q do', {wait:true}).end)
  .throws('[1:10] \',\' expected near \'q\'');</code></pre></dd>
    <dt>for a = b do end                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a = b do end', {wait:true}).end)
  .throws('[1:10] \',\' expected near \'do\'');</code></pre></dd>
    <dt>for a = 1, 2, 3, 4 do end               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a = 1, 2, 3, 4 do end', {wait:true}).end)
  .throws('[1:15] \'do\' expected near \',\'');</code></pre></dd>
    <dt>for a = p, q do end</dt>
    <dd><pre><code>expect(parser.parse('for a = p, q do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForNumericStatement&quot;,
      &quot;variable&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;start&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;p&quot;
      },
      &quot;end&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;q&quot;
      },
      &quot;step&quot;: null,
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a = 1, 2 do end</dt>
    <dd><pre><code>expect(parser.parse('for a = 1, 2 do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForNumericStatement&quot;,
      &quot;variable&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;start&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;end&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 2
      },
      &quot;step&quot;: null,
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a = 1, 2 do local a local b end</dt>
    <dd><pre><code>expect(parser.parse('for a = 1, 2 do local a local b end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForNumericStatement&quot;,
      &quot;variable&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;start&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;end&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 2
      },
      &quot;step&quot;: null,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a = 1, 2 do local a; local b; end</dt>
    <dd><pre><code>expect(parser.parse('for a = 1, 2 do local a; local b; end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForNumericStatement&quot;,
      &quot;variable&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;start&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;end&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 2
      },
      &quot;step&quot;: null,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a = 1, 2 do 3 end                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a = 1, 2 do 3 end', {wait:true}).end)
  .throws('[1:16] Unexpected symbol \'3\' near \'3\'');</code></pre></dd>
    <dt>for a = 1, 2 do &quot;foo&quot; end               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a = 1, 2 do &quot;foo&quot; end', {wait:true}).end)
  .throws('[1:16] Unexpected symbol \'foo\' near \'foo\'');</code></pre></dd>
    <dt>for a = p, q, r do end</dt>
    <dd><pre><code>expect(parser.parse('for a = p, q, r do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForNumericStatement&quot;,
      &quot;variable&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;start&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;p&quot;
      },
      &quot;end&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;q&quot;
      },
      &quot;step&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;r&quot;
      },
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a = 1, 2, 3 do end</dt>
    <dd><pre><code>expect(parser.parse('for a = 1, 2, 3 do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForNumericStatement&quot;,
      &quot;variable&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;start&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;end&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 2
      },
      &quot;step&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 3
      },
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a = p, q do break end</dt>
    <dd><pre><code>expect(parser.parse('for a = p, q do break end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForNumericStatement&quot;,
      &quot;variable&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;start&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;p&quot;
      },
      &quot;end&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;q&quot;
      },
      &quot;step&quot;: null,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;BreakStatement&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a = 1, 2 do return end</dt>
    <dd><pre><code>expect(parser.parse('for a = 1, 2 do return end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForNumericStatement&quot;,
      &quot;variable&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;start&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;end&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 2
      },
      &quot;step&quot;: null,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;ReturnStatement&quot;,
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a = 1, 2 do return return end       -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('for a = 1, 2 do return return end', {wait:true}).end)
  .throws('[1:23] \'end\' expected near \'return\'');</code></pre></dd>
    <dt>for a = p, q do do end end</dt>
    <dd><pre><code>expect(parser.parse('for a = p, q do do end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForNumericStatement&quot;,
      &quot;variable&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;start&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;p&quot;
      },
      &quot;end&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;q&quot;
      },
      &quot;step&quot;: null,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a = p, q do do break end end</dt>
    <dd><pre><code>expect(parser.parse('for a = p, q do do break end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForNumericStatement&quot;,
      &quot;variable&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;start&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;p&quot;
      },
      &quot;end&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;q&quot;
      },
      &quot;step&quot;: null,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;BreakStatement&quot;
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>for a = p, q do do return end end</dt>
    <dd><pre><code>expect(parser.parse('for a = p, q do do return end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ForNumericStatement&quot;,
      &quot;variable&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;start&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;p&quot;
      },
      &quot;end&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;q&quot;
      },
      &quot;step&quot;: null,
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;ReturnStatement&quot;,
              &quot;arguments&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a(                                      -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a(', {wait:true}).end)
  .throws('[1:2] \')\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a()</dt>
    <dd><pre><code>expect(parser.parse('a()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a(1)</dt>
    <dd><pre><code>expect(parser.parse('a(1)')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        &quot;arguments&quot;: [
          {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          }
        ]
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a(1,)                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a(1,)', {wait:true}).end)
  .throws('[1:4] &lt;expression&gt; expected near \')\'');</code></pre></dd>
    <dt>a(1,2,3)</dt>
    <dd><pre><code>expect(parser.parse('a(1,2,3)')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        &quot;arguments&quot;: [
          {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          null,
          null
        ]
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>1()                                     -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('1()', {wait:true}).end)
  .throws('[1:0] Unexpected symbol \'1\' near \'1\'');</code></pre></dd>
    <dt>a()()</dt>
    <dd><pre><code>expect(parser.parse('a()()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;CallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;arguments&quot;: []
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a.b()</dt>
    <dd><pre><code>expect(parser.parse('a.b()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a[b]()</dt>
    <dd><pre><code>expect(parser.parse('a[b]()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a.1                                     -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a.1', {wait:true}).end)
  .throws('[1:1] Unexpected symbol \'0.1\' near \'0.1\'');</code></pre></dd>
    <dt>a.b                                     -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a.b', {wait:true}).end)
  .throws('[1:3] Unexpected symbol \'&lt;eof&gt;\' near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a[b]                                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a[b]', {wait:true}).end)
  .throws('[1:4] Unexpected symbol \'&lt;eof&gt;\' near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a.b.(                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a.b.(', {wait:true}).end)
  .throws('[1:4] &lt;name&gt; expected near \'(\'');</code></pre></dd>
    <dt>a.b.c()</dt>
    <dd><pre><code>expect(parser.parse('a.b.c()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a[b][c]()</dt>
    <dd><pre><code>expect(parser.parse('a[b][c]()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a[b].c()</dt>
    <dd><pre><code>expect(parser.parse('a[b].c()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a.b[c]()</dt>
    <dd><pre><code>expect(parser.parse('a.b[c]()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a:b()</dt>
    <dd><pre><code>expect(parser.parse('a:b()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a:b                                     -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a:b', {wait:true}).end)
  .throws('[1:3] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a:1                                     -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a:1', {wait:true}).end)
  .throws('[1:2] &lt;name&gt; expected near \'1\'');</code></pre></dd>
    <dt>a.b:c()</dt>
    <dd><pre><code>expect(parser.parse('a.b:c()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a[b]:c()</dt>
    <dd><pre><code>expect(parser.parse('a[b]:c()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a:b:                                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a:b:', {wait:true}).end)
  .throws('[1:3] &lt;expression&gt; expected near \':\'');</code></pre></dd>
    <dt>a:b():c()</dt>
    <dd><pre><code>expect(parser.parse('a:b():c()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;CallExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;MemberExpression&quot;,
              &quot;indexer&quot;: &quot;:&quot;,
              &quot;identifier&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;b&quot;
              },
              &quot;base&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;a&quot;
              }
            },
            &quot;arguments&quot;: []
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a:b().c[d]:e()</dt>
    <dd><pre><code>expect(parser.parse('a:b().c[d]:e()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;e&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;MemberExpression&quot;,
              &quot;indexer&quot;: &quot;.&quot;,
              &quot;identifier&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;c&quot;
              },
              &quot;base&quot;: {
                &quot;type&quot;: &quot;CallExpression&quot;,
                &quot;base&quot;: {
                  &quot;type&quot;: &quot;MemberExpression&quot;,
                  &quot;indexer&quot;: &quot;:&quot;,
                  &quot;identifier&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;b&quot;
                  },
                  &quot;base&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;a&quot;
                  }
                },
                &quot;arguments&quot;: []
              }
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;d&quot;
            }
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a:b()[c].d:e()</dt>
    <dd><pre><code>expect(parser.parse('a:b()[c].d:e()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;e&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;d&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;IndexExpression&quot;,
              &quot;base&quot;: {
                &quot;type&quot;: &quot;CallExpression&quot;,
                &quot;base&quot;: {
                  &quot;type&quot;: &quot;MemberExpression&quot;,
                  &quot;indexer&quot;: &quot;:&quot;,
                  &quot;identifier&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;b&quot;
                  },
                  &quot;base&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;a&quot;
                  }
                },
                &quot;arguments&quot;: []
              },
              &quot;index&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;c&quot;
              }
            }
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a)()</dt>
    <dd><pre><code>expect(parser.parse('(a)()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>()()                                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('()()', {wait:true}).end)
  .throws('[1:2] &lt;expression&gt; expected near \'(\'');</code></pre></dd>
    <dt>(1)()</dt>
    <dd><pre><code>expect(parser.parse('(1)()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(&quot;foo&quot;)()</dt>
    <dd><pre><code>expect(parser.parse('(&quot;foo&quot;)()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: &quot;foo&quot;
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(true)()</dt>
    <dd><pre><code>expect(parser.parse('(true)()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: true
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a)()()</dt>
    <dd><pre><code>expect(parser.parse('(a)()()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;CallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;arguments&quot;: []
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a.b)()</dt>
    <dd><pre><code>expect(parser.parse('(a.b)()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a[b])()</dt>
    <dd><pre><code>expect(parser.parse('(a[b])()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a).b()</dt>
    <dd><pre><code>expect(parser.parse('(a).b()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a)[b]()</dt>
    <dd><pre><code>expect(parser.parse('(a)[b]()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a):b()</dt>
    <dd><pre><code>expect(parser.parse('(a):b()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a).b[c]:d()</dt>
    <dd><pre><code>expect(parser.parse('(a).b[c]:d()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;d&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;MemberExpression&quot;,
              &quot;indexer&quot;: &quot;.&quot;,
              &quot;identifier&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;b&quot;
              },
              &quot;base&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;a&quot;
              }
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;c&quot;
            }
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a)[b].c:d()</dt>
    <dd><pre><code>expect(parser.parse('(a)[b].c:d()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;d&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;c&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;IndexExpression&quot;,
              &quot;base&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;a&quot;
              },
              &quot;index&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;b&quot;
              }
            }
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a):b():c()</dt>
    <dd><pre><code>expect(parser.parse('(a):b():c()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;CallExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;MemberExpression&quot;,
              &quot;indexer&quot;: &quot;:&quot;,
              &quot;identifier&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;b&quot;
              },
              &quot;base&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;a&quot;
              }
            },
            &quot;arguments&quot;: []
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a):b().c[d]:e()</dt>
    <dd><pre><code>expect(parser.parse('(a):b().c[d]:e()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;e&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;MemberExpression&quot;,
              &quot;indexer&quot;: &quot;.&quot;,
              &quot;identifier&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;c&quot;
              },
              &quot;base&quot;: {
                &quot;type&quot;: &quot;CallExpression&quot;,
                &quot;base&quot;: {
                  &quot;type&quot;: &quot;MemberExpression&quot;,
                  &quot;indexer&quot;: &quot;:&quot;,
                  &quot;identifier&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;b&quot;
                  },
                  &quot;base&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;a&quot;
                  }
                },
                &quot;arguments&quot;: []
              }
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;d&quot;
            }
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a):b()[c].d:e()</dt>
    <dd><pre><code>expect(parser.parse('(a):b()[c].d:e()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;e&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;d&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;IndexExpression&quot;,
              &quot;base&quot;: {
                &quot;type&quot;: &quot;CallExpression&quot;,
                &quot;base&quot;: {
                  &quot;type&quot;: &quot;MemberExpression&quot;,
                  &quot;indexer&quot;: &quot;:&quot;,
                  &quot;identifier&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;b&quot;
                  },
                  &quot;base&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;a&quot;
                  }
                },
                &quot;arguments&quot;: []
              },
              &quot;index&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;c&quot;
              }
            }
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a&quot;foo&quot;</dt>
    <dd><pre><code>expect(parser.parse('a&quot;foo&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;StringCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        &quot;argument&quot;: &quot;foo&quot;
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a[[foo]]</dt>
    <dd><pre><code>expect(parser.parse('a[[foo]]')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;StringCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        &quot;argument&quot;: &quot;foo&quot;
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a.b&quot;foo&quot;</dt>
    <dd><pre><code>expect(parser.parse('a.b&quot;foo&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;StringCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        },
        &quot;argument&quot;: &quot;foo&quot;
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a[b]&quot;foo&quot;</dt>
    <dd><pre><code>expect(parser.parse('a[b]&quot;foo&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;StringCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          }
        },
        &quot;argument&quot;: &quot;foo&quot;
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a:b&quot;foo&quot;</dt>
    <dd><pre><code>expect(parser.parse('a:b&quot;foo&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;StringCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        },
        &quot;argument&quot;: &quot;foo&quot;
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a{}</dt>
    <dd><pre><code>expect(parser.parse('a{}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;TableCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        &quot;argument&quot;: {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: []
        }
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a.b{}</dt>
    <dd><pre><code>expect(parser.parse('a.b{}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;TableCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        },
        &quot;argument&quot;: {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: []
        }
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a[b]{}</dt>
    <dd><pre><code>expect(parser.parse('a[b]{}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;TableCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          }
        },
        &quot;argument&quot;: {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: []
        }
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a:b{}</dt>
    <dd><pre><code>expect(parser.parse('a:b{}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;TableCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        },
        &quot;argument&quot;: {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: []
        }
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a()&quot;foo&quot;</dt>
    <dd><pre><code>expect(parser.parse('a()&quot;foo&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;StringCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;CallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;arguments&quot;: []
        },
        &quot;argument&quot;: &quot;foo&quot;
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a&quot;foo&quot;()</dt>
    <dd><pre><code>expect(parser.parse('a&quot;foo&quot;()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;StringCallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;argument&quot;: &quot;foo&quot;
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a&quot;foo&quot;.b()</dt>
    <dd><pre><code>expect(parser.parse('a&quot;foo&quot;.b()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;StringCallExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;argument&quot;: &quot;foo&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a&quot;foo&quot;[b]()</dt>
    <dd><pre><code>expect(parser.parse('a&quot;foo&quot;[b]()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;StringCallExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;argument&quot;: &quot;foo&quot;
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a&quot;foo&quot;:c()</dt>
    <dd><pre><code>expect(parser.parse('a&quot;foo&quot;:c()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;StringCallExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;argument&quot;: &quot;foo&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a&quot;foo&quot;&quot;bar&quot;</dt>
    <dd><pre><code>expect(parser.parse('a&quot;foo&quot;&quot;bar&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;StringCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;StringCallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;argument&quot;: &quot;foo&quot;
        },
        &quot;argument&quot;: &quot;bar&quot;
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a&quot;foo&quot;{}</dt>
    <dd><pre><code>expect(parser.parse('a&quot;foo&quot;{}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;TableCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;StringCallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;argument&quot;: &quot;foo&quot;
        },
        &quot;argument&quot;: {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: []
        }
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a):b&quot;foo&quot;.c[d]:e&quot;bar&quot;</dt>
    <dd><pre><code>expect(parser.parse('(a):b&quot;foo&quot;.c[d]:e&quot;bar&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;StringCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;e&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;MemberExpression&quot;,
              &quot;indexer&quot;: &quot;.&quot;,
              &quot;identifier&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;c&quot;
              },
              &quot;base&quot;: {
                &quot;type&quot;: &quot;StringCallExpression&quot;,
                &quot;base&quot;: {
                  &quot;type&quot;: &quot;MemberExpression&quot;,
                  &quot;indexer&quot;: &quot;:&quot;,
                  &quot;identifier&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;b&quot;
                  },
                  &quot;base&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;a&quot;
                  }
                },
                &quot;argument&quot;: &quot;foo&quot;
              }
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;d&quot;
            }
          }
        },
        &quot;argument&quot;: &quot;bar&quot;
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a):b&quot;foo&quot;[c].d:e&quot;bar&quot;</dt>
    <dd><pre><code>expect(parser.parse('(a):b&quot;foo&quot;[c].d:e&quot;bar&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;StringCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;e&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;d&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;IndexExpression&quot;,
              &quot;base&quot;: {
                &quot;type&quot;: &quot;StringCallExpression&quot;,
                &quot;base&quot;: {
                  &quot;type&quot;: &quot;MemberExpression&quot;,
                  &quot;indexer&quot;: &quot;:&quot;,
                  &quot;identifier&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;b&quot;
                  },
                  &quot;base&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;a&quot;
                  }
                },
                &quot;argument&quot;: &quot;foo&quot;
              },
              &quot;index&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;c&quot;
              }
            }
          }
        },
        &quot;argument&quot;: &quot;bar&quot;
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a(){}</dt>
    <dd><pre><code>expect(parser.parse('a(){}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;TableCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;CallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;arguments&quot;: []
        },
        &quot;argument&quot;: {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: []
        }
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a{}()</dt>
    <dd><pre><code>expect(parser.parse('a{}()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;TableCallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;TableConstructorExpression&quot;,
            &quot;fields&quot;: []
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a{}.b()</dt>
    <dd><pre><code>expect(parser.parse('a{}.b()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;TableCallExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;argument&quot;: {
              &quot;type&quot;: &quot;TableConstructorExpression&quot;,
              &quot;fields&quot;: []
            }
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a{}[b]()</dt>
    <dd><pre><code>expect(parser.parse('a{}[b]()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;IndexExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;TableCallExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;argument&quot;: {
              &quot;type&quot;: &quot;TableConstructorExpression&quot;,
              &quot;fields&quot;: []
            }
          },
          &quot;index&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a{}:c()</dt>
    <dd><pre><code>expect(parser.parse('a{}:c()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;CallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;TableCallExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;argument&quot;: {
              &quot;type&quot;: &quot;TableConstructorExpression&quot;,
              &quot;fields&quot;: []
            }
          }
        },
        &quot;arguments&quot;: []
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a{}&quot;foo&quot;</dt>
    <dd><pre><code>expect(parser.parse('a{}&quot;foo&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;StringCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;TableCallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;TableConstructorExpression&quot;,
            &quot;fields&quot;: []
          }
        },
        &quot;argument&quot;: &quot;foo&quot;
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a{}{}</dt>
    <dd><pre><code>expect(parser.parse('a{}{}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;TableCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;TableCallExpression&quot;,
          &quot;base&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;TableConstructorExpression&quot;,
            &quot;fields&quot;: []
          }
        },
        &quot;argument&quot;: {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: []
        }
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a):b{}.c[d]:e{}</dt>
    <dd><pre><code>expect(parser.parse('(a):b{}.c[d]:e{}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;TableCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;e&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;IndexExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;MemberExpression&quot;,
              &quot;indexer&quot;: &quot;.&quot;,
              &quot;identifier&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;c&quot;
              },
              &quot;base&quot;: {
                &quot;type&quot;: &quot;TableCallExpression&quot;,
                &quot;base&quot;: {
                  &quot;type&quot;: &quot;MemberExpression&quot;,
                  &quot;indexer&quot;: &quot;:&quot;,
                  &quot;identifier&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;b&quot;
                  },
                  &quot;base&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;a&quot;
                  }
                },
                &quot;argument&quot;: {
                  &quot;type&quot;: &quot;TableConstructorExpression&quot;,
                  &quot;fields&quot;: []
                }
              }
            },
            &quot;index&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;d&quot;
            }
          }
        },
        &quot;argument&quot;: {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: []
        }
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>(a):b{}[c].d:e{}</dt>
    <dd><pre><code>expect(parser.parse('(a):b{}[c].d:e{}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;CallStatement&quot;,
      &quot;expression&quot;: {
        &quot;type&quot;: &quot;TableCallExpression&quot;,
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;:&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;e&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;d&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;IndexExpression&quot;,
              &quot;base&quot;: {
                &quot;type&quot;: &quot;TableCallExpression&quot;,
                &quot;base&quot;: {
                  &quot;type&quot;: &quot;MemberExpression&quot;,
                  &quot;indexer&quot;: &quot;:&quot;,
                  &quot;identifier&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;b&quot;
                  },
                  &quot;base&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;a&quot;
                  }
                },
                &quot;argument&quot;: {
                  &quot;type&quot;: &quot;TableConstructorExpression&quot;,
                  &quot;fields&quot;: []
                }
              },
              &quot;index&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;c&quot;
              }
            }
          }
        },
        &quot;argument&quot;: {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: []
        }
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function', {wait:true}).end)
  .throws('[1:8] &lt;name&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>function 1                              -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function 1', {wait:true}).end)
  .throws('[1:9] &lt;name&gt; expected near \'1\'');</code></pre></dd>
    <dt>function end                            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function end', {wait:true}).end)
  .throws('[1:9] &lt;name&gt; expected near \'end\'');</code></pre></dd>
    <dt>function a                              -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a', {wait:true}).end)
  .throws('[1:10] \'(\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>function a end                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a end', {wait:true}).end)
  .throws('[1:11] \'(\' expected near \'end\'');</code></pre></dd>
    <dt>function a( end                         -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a( end', {wait:true}).end)
  .throws('[1:12] &lt;name&gt; or \'...\' expected near \'end\'');</code></pre></dd>
    <dt>function a() end</dt>
    <dd><pre><code>expect(parser.parse('function a() end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a(1                            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a(1', {wait:true}).end)
  .throws('[1:11] &lt;name&gt; or \'...\' expected near \'1\'');</code></pre></dd>
    <dt>function a(&quot;foo&quot;                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a(&quot;foo&quot;', {wait:true}).end)
  .throws('[1:11] &lt;name&gt; or \'...\' expected near \'foo\'');</code></pre></dd>
    <dt>function a(p                            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a(p', {wait:true}).end)
  .throws('[1:12] &lt;name&gt; or \'...\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>function a(p,)                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a(p,)', {wait:true}).end)
  .throws('[1:13] &lt;name&gt; expected near \')\'');</code></pre></dd>
    <dt>function a(p q                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a(p q', {wait:true}).end)
  .throws('[1:13] &lt;name&gt; or \'...\' expected near \'q\'');</code></pre></dd>
    <dt>function a(p) end</dt>
    <dd><pre><code>expect(parser.parse('function a(p) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a(p,q,) end                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a(p,q,) end', {wait:true}).end)
  .throws('[1:15] &lt;name&gt; expected near \')\'');</code></pre></dd>
    <dt>function a(p,q,r) end</dt>
    <dd><pre><code>expect(parser.parse('function a(p,q,r) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;q&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;r&quot;
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a(p,q,1                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a(p,q,1', {wait:true}).end)
  .throws('[1:15] &lt;name&gt; expected near \'1\'');</code></pre></dd>
    <dt>function a(p) do                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a(p) do', {wait:true}).end)
  .throws('[1:16] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>function a(p) 1 end                     -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a(p) 1 end', {wait:true}).end)
  .throws('[1:14] Unexpected symbol \'1\' near \'1\'');</code></pre></dd>
    <dt>function a(p) return end</dt>
    <dd><pre><code>expect(parser.parse('function a(p) return end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        }
      ],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;ReturnStatement&quot;,
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a(p) return return end         -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a(p) return return end', {wait:true}).end)
  .throws('[1:21] \'end\' expected near \'return\'');</code></pre></dd>
    <dt>function a(p) do end end</dt>
    <dd><pre><code>expect(parser.parse('function a(p) do end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        }
      ],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a.(                            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a.(', {wait:true}).end)
  .throws('[1:11] &lt;name&gt; expected near \'(\'');</code></pre></dd>
    <dt>function a.1                            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a.1', {wait:true}).end)
  .throws('[1:10] \'(\' expected near \'0.1\'');</code></pre></dd>
    <dt>function a.b() end</dt>
    <dd><pre><code>expect(parser.parse('function a.b() end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;MemberExpression&quot;,
        &quot;indexer&quot;: &quot;.&quot;,
        &quot;identifier&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        },
        &quot;base&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a.b,                           -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a.b,', {wait:true}).end)
  .throws('[1:12] \'(\' expected near \',\'');</code></pre></dd>
    <dt>function a.b.(                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a.b.(', {wait:true}).end)
  .throws('[1:13] &lt;name&gt; expected near \'(\'');</code></pre></dd>
    <dt>function a.b.c.d() end</dt>
    <dd><pre><code>expect(parser.parse('function a.b.c.d() end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;MemberExpression&quot;,
        &quot;indexer&quot;: &quot;.&quot;,
        &quot;identifier&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;d&quot;
        },
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          }
        }
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a:                             -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a:', {wait:true}).end)
  .throws('[1:11] &lt;name&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>function a:1                            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a:1', {wait:true}).end)
  .throws('[1:11] &lt;name&gt; expected near \'1\'');</code></pre></dd>
    <dt>function a:b() end</dt>
    <dd><pre><code>expect(parser.parse('function a:b() end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;MemberExpression&quot;,
        &quot;indexer&quot;: &quot;:&quot;,
        &quot;identifier&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        },
        &quot;base&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a:b:                           -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a:b:', {wait:true}).end)
  .throws('[1:12] \'(\' expected near \':\'');</code></pre></dd>
    <dt>function a:b.                           -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a:b.', {wait:true}).end)
  .throws('[1:12] \'(\' expected near \'.\'');</code></pre></dd>
    <dt>function a.b.c:d() end</dt>
    <dd><pre><code>expect(parser.parse('function a.b.c:d() end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;MemberExpression&quot;,
        &quot;indexer&quot;: &quot;:&quot;,
        &quot;identifier&quot;: {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;d&quot;
        },
        &quot;base&quot;: {
          &quot;type&quot;: &quot;MemberExpression&quot;,
          &quot;indexer&quot;: &quot;.&quot;,
          &quot;identifier&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          },
          &quot;base&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          }
        }
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a(...) end</dt>
    <dd><pre><code>expect(parser.parse('function a(...) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: true,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a(...,                         -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('function a(...,', {wait:true}).end)
  .throws('[1:14] &lt;name&gt; or \'...\' expected near \',\'');</code></pre></dd>
    <dt>function a(p,...) end</dt>
    <dd><pre><code>expect(parser.parse('function a(p,...) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: true,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a(p,q,r,...) end</dt>
    <dd><pre><code>expect(parser.parse('function a(p,q,r,...) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: true,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;q&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;r&quot;
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a() local a local b end</dt>
    <dd><pre><code>expect(parser.parse('function a() local a local b end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a() local a; local b; end</dt>
    <dd><pre><code>expect(parser.parse('function a() local a; local b; end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>function a() end; function a() end;</dt>
    <dd><pre><code>expect(parser.parse('function a() end; function a() end;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [],
      &quot;body&quot;: []
    },
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: false,
      &quot;parameters&quot;: [],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a                                         -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a', {wait:true}).end)
  .throws('[1:1] Unexpected symbol \'&lt;eof&gt;\' near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = 1</dt>
    <dd><pre><code>expect(parser.parse('a = 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = .1</dt>
    <dd><pre><code>expect(parser.parse('a = .1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 0.1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1.1</dt>
    <dd><pre><code>expect(parser.parse('a = 1.1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1.1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 10.1</dt>
    <dd><pre><code>expect(parser.parse('a = 10.1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 10.1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1e                                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = 1e', {wait:true}).end)
  .throws('[1:7] malformed number near \'1e\'');</code></pre></dd>
    <dt>a = 1e1</dt>
    <dd><pre><code>expect(parser.parse('a = 1e1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 10
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1E1</dt>
    <dd><pre><code>expect(parser.parse('a = 1E1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 10
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1e+9</dt>
    <dd><pre><code>expect(parser.parse('a = 1e+9')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1000000000
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1e-1</dt>
    <dd><pre><code>expect(parser.parse('a = 1e-1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 0.1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 0x                                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = 0x', {wait:true}).end)
  .throws('[1:7] malformed number near \'0x\'');</code></pre></dd>
    <dt>a = 0xf</dt>
    <dd><pre><code>expect(parser.parse('a = 0xf')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 15
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 0xf.</dt>
    <dd><pre><code>expect(parser.parse('a = 0xf.')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 15
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 0xf.3</dt>
    <dd><pre><code>expect(parser.parse('a = 0xf.3')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 15.1875
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 0xfp                                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = 0xfp', {wait:true}).end)
  .throws('[1:9] malformed number near \'0xfp\'');</code></pre></dd>
    <dt>a = 0xfp1</dt>
    <dd><pre><code>expect(parser.parse('a = 0xfp1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 30
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 0xfp+1</dt>
    <dd><pre><code>expect(parser.parse('a = 0xfp+1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 30
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 0xfp-1</dt>
    <dd><pre><code>expect(parser.parse('a = 0xfp-1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 7.5
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 0xFP+9</dt>
    <dd><pre><code>expect(parser.parse('a = 0xFP+9')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 7680
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 .. 3 .. -2</dt>
    <dd><pre><code>expect(parser.parse('a = 1 .. 3 .. -2')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;..&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;..&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 3
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;UnaryExpression&quot;,
              &quot;operator&quot;: &quot;-&quot;,
              &quot;argument&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 2
              }
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 .. &quot;bar&quot;</dt>
    <dd><pre><code>expect(parser.parse('a = 1 .. &quot;bar&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;..&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;bar&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = &quot;bar                                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = &quot;bar', {wait:true}).end)
  .throws('[1:9] unfinished string near \'bar\'');</code></pre></dd>
    <dt>a = &quot;bar&quot;</dt>
    <dd><pre><code>expect(parser.parse('a = &quot;bar&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: &quot;bar&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = nil</dt>
    <dd><pre><code>expect(parser.parse('a = nil')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: null
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = true</dt>
    <dd><pre><code>expect(parser.parse('a = true')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: true
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = false</dt>
    <dd><pre><code>expect(parser.parse('a = false')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: false
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = ...</dt>
    <dd><pre><code>expect(parser.parse('a = ...')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;VarargLiteral&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local', {wait:true}).end)
  .throws('[1:5] &lt;name&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>local;                                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local;', {wait:true}).end)
  .throws('[1:5] &lt;name&gt; expected near \';\'');</code></pre></dd>
    <dt>local =                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local =', {wait:true}).end)
  .throws('[1:6] &lt;name&gt; expected near \'=\'');</code></pre></dd>
    <dt>local end                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local end', {wait:true}).end)
  .throws('[1:6] &lt;name&gt; expected near \'end\'');</code></pre></dd>
    <dt>local a</dt>
    <dd><pre><code>expect(parser.parse('local a')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local a;</dt>
    <dd><pre><code>expect(parser.parse('local a;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local a, b, c</dt>
    <dd><pre><code>expect(parser.parse('local a, b, c')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;c&quot;
        }
      ],
      &quot;init&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local a; local b local c;</dt>
    <dd><pre><code>expect(parser.parse('local a; local b local c;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: []
    },
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        }
      ],
      &quot;init&quot;: []
    },
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;c&quot;
        }
      ],
      &quot;init&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local a = 1</dt>
    <dd><pre><code>expect(parser.parse('local a = 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local a local b = a</dt>
    <dd><pre><code>expect(parser.parse('local a local b = a')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: []
    },
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local a, b = 1, 2</dt>
    <dd><pre><code>expect(parser.parse('local a, b = 1, 2')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        },
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 2
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local a, b, c = 1, 2, 3</dt>
    <dd><pre><code>expect(parser.parse('local a, b, c = 1, 2, 3')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;c&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        },
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 2
        },
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 3
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local a, b, c = 1</dt>
    <dd><pre><code>expect(parser.parse('local a, b, c = 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;c&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local a = 1, 2, 3</dt>
    <dd><pre><code>expect(parser.parse('local a = 1, 2, 3')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;LocalStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        },
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 2
        },
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 3
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local a, local                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local a, local', {wait:true}).end)
  .throws('[1:9] &lt;name&gt; expected near \'local\'');</code></pre></dd>
    <dt>local 1                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local 1', {wait:true}).end)
  .throws('[1:6] &lt;name&gt; expected near \'1\'');</code></pre></dd>
    <dt>local &quot;foo&quot;                             -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local &quot;foo&quot;', {wait:true}).end)
  .throws('[1:6] &lt;name&gt; expected near \'foo\'');</code></pre></dd>
    <dt>local a = local                         -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local a = local', {wait:true}).end)
  .throws('[1:10] &lt;expression&gt; expected near \'local\'');</code></pre></dd>
    <dt>local a, b, =                           -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local a, b, =', {wait:true}).end)
  .throws('[1:12] &lt;name&gt; expected near \'=\'');</code></pre></dd>
    <dt>local a, b = 1, local                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local a, b = 1, local', {wait:true}).end)
  .throws('[1:16] &lt;expression&gt; expected near \'local\'');</code></pre></dd>
    <dt>local a, b = , local                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local a, b = , local', {wait:true}).end)
  .throws('[1:13] &lt;expression&gt; expected near \',\'');</code></pre></dd>
    <dt>local function                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function', {wait:true}).end)
  .throws('[1:14] &lt;name&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>local function 1                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function 1', {wait:true}).end)
  .throws('[1:15] &lt;name&gt; expected near \'1\'');</code></pre></dd>
    <dt>local function end                      -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function end', {wait:true}).end)
  .throws('[1:15] &lt;name&gt; expected near \'end\'');</code></pre></dd>
    <dt>local function a                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a', {wait:true}).end)
  .throws('[1:16] \'(\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>local function a end                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a end', {wait:true}).end)
  .throws('[1:17] \'(\' expected near \'end\'');</code></pre></dd>
    <dt>local function a( end                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a( end', {wait:true}).end)
  .throws('[1:18] &lt;name&gt; or \'...\' expected near \'end\'');</code></pre></dd>
    <dt>local function a() end</dt>
    <dd><pre><code>expect(parser.parse('local function a() end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: true,
      &quot;parameters&quot;: [],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local function a(1                      -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a(1', {wait:true}).end)
  .throws('[1:17] &lt;name&gt; or \'...\' expected near \'1\'');</code></pre></dd>
    <dt>local function a(&quot;foo&quot;                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a(&quot;foo&quot;', {wait:true}).end)
  .throws('[1:17] &lt;name&gt; or \'...\' expected near \'foo\'');</code></pre></dd>
    <dt>local function a(p                      -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a(p', {wait:true}).end)
  .throws('[1:18] &lt;name&gt; or \'...\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>local function a(p,)                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a(p,)', {wait:true}).end)
  .throws('[1:19] &lt;name&gt; expected near \')\'');</code></pre></dd>
    <dt>local function a(p q                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a(p q', {wait:true}).end)
  .throws('[1:19] &lt;name&gt; or \'...\' expected near \'q\'');</code></pre></dd>
    <dt>local function a(p) end</dt>
    <dd><pre><code>expect(parser.parse('local function a(p) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: true,
      &quot;parameters&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local function a(p,q,) end              -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a(p,q,) end', {wait:true}).end)
  .throws('[1:21] &lt;name&gt; expected near \')\'');</code></pre></dd>
    <dt>local function a(p,q,r) end</dt>
    <dd><pre><code>expect(parser.parse('local function a(p,q,r) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: true,
      &quot;parameters&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;q&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;r&quot;
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local function a(p,q,1                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a(p,q,1', {wait:true}).end)
  .throws('[1:21] &lt;name&gt; expected near \'1\'');</code></pre></dd>
    <dt>local function a(p) do                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a(p) do', {wait:true}).end)
  .throws('[1:22] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>local function a(p) 1 end               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a(p) 1 end', {wait:true}).end)
  .throws('[1:20] Unexpected symbol \'1\' near \'1\'');</code></pre></dd>
    <dt>local function a(p) return end</dt>
    <dd><pre><code>expect(parser.parse('local function a(p) return end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: true,
      &quot;parameters&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        }
      ],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;ReturnStatement&quot;,
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local function a(p) return return end   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a(p) return return end', {wait:true}).end)
  .throws('[1:27] \'end\' expected near \'return\'');</code></pre></dd>
    <dt>local function a(p) do end end</dt>
    <dd><pre><code>expect(parser.parse('local function a(p) do end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: true,
      &quot;parameters&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        }
      ],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local function a.                       -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a.', {wait:true}).end)
  .throws('[1:16] \'(\' expected near \'.\'');</code></pre></dd>
    <dt>local function a:                       -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a:', {wait:true}).end)
  .throws('[1:16] \'(\' expected near \':\'');</code></pre></dd>
    <dt>local function a(...) end</dt>
    <dd><pre><code>expect(parser.parse('local function a(...) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: true,
      &quot;local&quot;: true,
      &quot;parameters&quot;: [],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local function a(...,                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('local function a(...,', {wait:true}).end)
  .throws('[1:20] &lt;name&gt; or \'...\' expected near \',\'');</code></pre></dd>
    <dt>local function a(p,...) end</dt>
    <dd><pre><code>expect(parser.parse('local function a(p,...) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: true,
      &quot;local&quot;: true,
      &quot;parameters&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local function a(p,q,r,...) end</dt>
    <dd><pre><code>expect(parser.parse('local function a(p,q,r,...) end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: true,
      &quot;local&quot;: true,
      &quot;parameters&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;p&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;q&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;r&quot;
        }
      ],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local function a() local a local b end</dt>
    <dd><pre><code>expect(parser.parse('local function a() local a local b end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: true,
      &quot;parameters&quot;: [],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local function a() local a; local b; end</dt>
    <dd><pre><code>expect(parser.parse('local function a() local a; local b; end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: true,
      &quot;parameters&quot;: [],
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>local function a() end; local function a() end;</dt>
    <dd><pre><code>expect(parser.parse('local function a() end; local function a() end;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: true,
      &quot;parameters&quot;: [],
      &quot;body&quot;: []
    },
    {
      &quot;type&quot;: &quot;FunctionDeclaration&quot;,
      &quot;identifier&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;a&quot;
      },
      &quot;vararg&quot;: false,
      &quot;local&quot;: true,
      &quot;parameters&quot;: [],
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = -10</dt>
    <dd><pre><code>expect(parser.parse('a = -10')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 10
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = -&quot;foo&quot;</dt>
    <dd><pre><code>expect(parser.parse('a = -&quot;foo&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;foo&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = -a</dt>
    <dd><pre><code>expect(parser.parse('a = -a')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = -nil</dt>
    <dd><pre><code>expect(parser.parse('a = -nil')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: null
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = -true</dt>
    <dd><pre><code>expect(parser.parse('a = -true')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: true
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = -{}</dt>
    <dd><pre><code>expect(parser.parse('a = -{}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;TableConstructorExpression&quot;,
            &quot;fields&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = -function() end</dt>
    <dd><pre><code>expect(parser.parse('a = -function() end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;FunctionDeclaration&quot;,
            &quot;identifier&quot;: null,
            &quot;vararg&quot;: false,
            &quot;local&quot;: false,
            &quot;parameters&quot;: [],
            &quot;body&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = -a()</dt>
    <dd><pre><code>expect(parser.parse('a = -a()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;CallExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;arguments&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = -(a)</dt>
    <dd><pre><code>expect(parser.parse('a = -(a)')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = -                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = -', {wait:true}).end)
  .throws('[1:5] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = not 10</dt>
    <dd><pre><code>expect(parser.parse('a = not 10')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;not&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 10
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = not &quot;foo&quot;</dt>
    <dd><pre><code>expect(parser.parse('a = not &quot;foo&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;not&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;foo&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = not a</dt>
    <dd><pre><code>expect(parser.parse('a = not a')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;not&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = not nil</dt>
    <dd><pre><code>expect(parser.parse('a = not nil')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;not&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: null
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = not true</dt>
    <dd><pre><code>expect(parser.parse('a = not true')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;not&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: true
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = not {}</dt>
    <dd><pre><code>expect(parser.parse('a = not {}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;not&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;TableConstructorExpression&quot;,
            &quot;fields&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = not function() end</dt>
    <dd><pre><code>expect(parser.parse('a = not function() end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;not&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;FunctionDeclaration&quot;,
            &quot;identifier&quot;: null,
            &quot;vararg&quot;: false,
            &quot;local&quot;: false,
            &quot;parameters&quot;: [],
            &quot;body&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = not a()</dt>
    <dd><pre><code>expect(parser.parse('a = not a()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;not&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;CallExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;arguments&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = not (a)</dt>
    <dd><pre><code>expect(parser.parse('a = not (a)')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;not&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = not                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = not', {wait:true}).end)
  .throws('[1:7] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = 1 + 2; a = 1 - 2</dt>
    <dd><pre><code>expect(parser.parse('a = 1 + 2; a = 1 - 2')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;+&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    },
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 * 2; a = 1 / 2</dt>
    <dd><pre><code>expect(parser.parse('a = 1 * 2; a = 1 / 2')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;*&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    },
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;/&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 ^ 2; a = 1 .. 2</dt>
    <dd><pre><code>expect(parser.parse('a = 1 ^ 2; a = 1 .. 2')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;^&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    },
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;..&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 +                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = 1 +', {wait:true}).end)
  .throws('[1:7] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = 1 ..                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = 1 ..', {wait:true}).end)
  .throws('[1:8] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = 1 * /                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = 1 * /', {wait:true}).end)
  .throws('[1:8] &lt;expression&gt; expected near \'/\'');</code></pre></dd>
    <dt>a = 1 + -2; a = 1 - -2</dt>
    <dd><pre><code>expect(parser.parse('a = 1 + -2; a = 1 - -2')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;+&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;UnaryExpression&quot;,
            &quot;operator&quot;: &quot;-&quot;,
            &quot;argument&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 2
            }
          }
        }
      ]
    },
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;UnaryExpression&quot;,
            &quot;operator&quot;: &quot;-&quot;,
            &quot;argument&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 2
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 * -                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = 1 * -', {wait:true}).end)
  .throws('[1:9] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = 1 * not 2; a = 1 / not 2</dt>
    <dd><pre><code>expect(parser.parse('a = 1 * not 2; a = 1 / not 2')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;*&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;UnaryExpression&quot;,
            &quot;operator&quot;: &quot;not&quot;,
            &quot;argument&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 2
            }
          }
        }
      ]
    },
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;/&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;UnaryExpression&quot;,
            &quot;operator&quot;: &quot;not&quot;,
            &quot;argument&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 2
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 / not                             -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = 1 / not', {wait:true}).end)
  .throws('[1:11] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = 1 + 2 - 3 * 4 / 5 ^ 6</dt>
    <dd><pre><code>expect(parser.parse('a = 1 + 2 - 3 * 4 / 5 ^ 6')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;+&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 1
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 2
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;/&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;*&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 3
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 4
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;^&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 5
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 6
              }
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = ((1 + 2) - 3) * (4 / (5 ^ 6))</dt>
    <dd><pre><code>expect(parser.parse('a = ((1 + 2) - 3) * (4 / (5 ^ 6))')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;*&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;-&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;+&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 2
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 3
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;/&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 4
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;^&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 5
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 6
              }
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (1 + (2 - (3 * (4 / (5 ^ ((6)))))))</dt>
    <dd><pre><code>expect(parser.parse('a = (1 + (2 - (3 * (4 / (5 ^ ((6)))))))')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;+&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;-&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 2
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;*&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 3
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;/&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 4
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;BinaryExpression&quot;,
                  &quot;operator&quot;: &quot;^&quot;,
                  &quot;left&quot;: {
                    &quot;type&quot;: &quot;Literal&quot;,
                    &quot;value&quot;: 5
                  },
                  &quot;right&quot;: {
                    &quot;type&quot;: &quot;Literal&quot;,
                    &quot;value&quot;: 6
                  }
                }
              }
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = ((1                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = ((1', {wait:true}).end)
  .throws('[1:7] \')\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = ((1 + 2)                            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = ((1 + 2)', {wait:true}).end)
  .throws('[1:12] \')\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = 1)                                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = 1)', {wait:true}).end)
  .throws('[1:5] Unexpected symbol \')\' near \')\'');</code></pre></dd>
    <dt>a = a + b - c</dt>
    <dd><pre><code>expect(parser.parse('a = a + b - c')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;+&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = &quot;foo&quot; + &quot;bar&quot;</dt>
    <dd><pre><code>expect(parser.parse('a = &quot;foo&quot; + &quot;bar&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;+&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;foo&quot;
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;bar&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = &quot;foo&quot;..&quot;bar&quot;..&quot;baz&quot;</dt>
    <dd><pre><code>expect(parser.parse('a = &quot;foo&quot;..&quot;bar&quot;..&quot;baz&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;..&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;foo&quot;
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;..&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: &quot;bar&quot;
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: &quot;baz&quot;
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = true + false - nil</dt>
    <dd><pre><code>expect(parser.parse('a = true + false - nil')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;-&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;+&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: true
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: false
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: null
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = {} * {}</dt>
    <dd><pre><code>expect(parser.parse('a = {} * {}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;*&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;TableConstructorExpression&quot;,
            &quot;fields&quot;: []
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;TableConstructorExpression&quot;,
            &quot;fields&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = function() end / function() end</dt>
    <dd><pre><code>expect(parser.parse('a = function() end / function() end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;/&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;FunctionDeclaration&quot;,
            &quot;identifier&quot;: null,
            &quot;vararg&quot;: false,
            &quot;local&quot;: false,
            &quot;parameters&quot;: [],
            &quot;body&quot;: []
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;FunctionDeclaration&quot;,
            &quot;identifier&quot;: null,
            &quot;vararg&quot;: false,
            &quot;local&quot;: false,
            &quot;parameters&quot;: [],
            &quot;body&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a() ^ b()</dt>
    <dd><pre><code>expect(parser.parse('a = a() ^ b()')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;^&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;CallExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;arguments&quot;: []
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;CallExpression&quot;,
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            },
            &quot;arguments&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 == 2; a = 1 ~= 2</dt>
    <dd><pre><code>expect(parser.parse('a = 1 == 2; a = 1 ~= 2')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;==&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    },
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;~=&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 &lt; 2; a = 1 &lt;= 2</dt>
    <dd><pre><code>expect(parser.parse('a = 1 &lt; 2; a = 1 &lt;= 2')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;&lt;&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    },
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;&lt;=&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 &gt; 2; a = 1 &gt;= 2</dt>
    <dd><pre><code>expect(parser.parse('a = 1 &gt; 2; a = 1 &gt;= 2')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;&gt;&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    },
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;&gt;=&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 &lt; 2 &lt; 3</dt>
    <dd><pre><code>expect(parser.parse('a = 1 &lt; 2 &lt; 3')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;&lt;&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;&lt;&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 1
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 2
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 3
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 &gt;= 2 &gt;= 3</dt>
    <dd><pre><code>expect(parser.parse('a = 1 &gt;= 2 &gt;= 3')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;&gt;=&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;&gt;=&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 1
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 2
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 3
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 ==                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = 1 ==', {wait:true}).end)
  .throws('[1:8] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = `                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = `', {wait:true}).end)
  .throws('[1:5] Unexpected symbol \'`\' near \'=\'');</code></pre></dd>
    <dt>a = ~                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = ~', {wait:true}).end)
  .throws('[1:5] \'=\' expected near \'~\'');</code></pre></dd>
    <dt>a = ~= 2                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = ~= 2', {wait:true}).end)
  .throws('[1:8] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = &quot;foo&quot; == &quot;bar&quot;</dt>
    <dd><pre><code>expect(parser.parse('a = &quot;foo&quot; == &quot;bar&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;==&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;foo&quot;
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;bar&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = &quot;foo&quot; &gt; &quot;bar&quot;</dt>
    <dd><pre><code>expect(parser.parse('a = &quot;foo&quot; &gt; &quot;bar&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;&gt;&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;foo&quot;
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;bar&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a ~= b</dt>
    <dd><pre><code>expect(parser.parse('a = a ~= b')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;~=&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;a&quot;
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;b&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = true == false</dt>
    <dd><pre><code>expect(parser.parse('a = true == false')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;==&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: true
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: false
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 and 2; a = 1 or 2</dt>
    <dd><pre><code>expect(parser.parse('a = 1 and 2; a = 1 or 2')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;and&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    },
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;or&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 1
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 2
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 and                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = 1 and', {wait:true}).end)
  .throws('[1:9] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = or 1                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = or 1', {wait:true}).end)
  .throws('[1:8] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = 1 and 2 and 3</dt>
    <dd><pre><code>expect(parser.parse('a = 1 and 2 and 3')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;and&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;and&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 1
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 2
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 3
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 or 2 or 3</dt>
    <dd><pre><code>expect(parser.parse('a = 1 or 2 or 3')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;or&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;or&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 1
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 2
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 3
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 1 and 2 or 3</dt>
    <dd><pre><code>expect(parser.parse('a = 1 and 2 or 3')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;or&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;and&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 1
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 2
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: 3
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a and b or c</dt>
    <dd><pre><code>expect(parser.parse('a = a and b or c')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;or&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;and&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;name&quot;: &quot;c&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = a() and (b)() or c.d</dt>
    <dd><pre><code>expect(parser.parse('a = a() and (b)() or c.d')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;or&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;and&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;CallExpression&quot;,
              &quot;base&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;a&quot;
              },
              &quot;arguments&quot;: []
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;CallExpression&quot;,
              &quot;base&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;b&quot;
              },
              &quot;arguments&quot;: []
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;MemberExpression&quot;,
            &quot;indexer&quot;: &quot;.&quot;,
            &quot;identifier&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;d&quot;
            },
            &quot;base&quot;: {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;c&quot;
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = &quot;foo&quot; and &quot;bar&quot;</dt>
    <dd><pre><code>expect(parser.parse('a = &quot;foo&quot; and &quot;bar&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;and&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;foo&quot;
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: &quot;bar&quot;
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = true or false</dt>
    <dd><pre><code>expect(parser.parse('a = true or false')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;or&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: true
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: false
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = {} and {} or {}</dt>
    <dd><pre><code>expect(parser.parse('a = {} and {} or {}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;or&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;and&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;TableConstructorExpression&quot;,
              &quot;fields&quot;: []
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;TableConstructorExpression&quot;,
              &quot;fields&quot;: []
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;TableConstructorExpression&quot;,
            &quot;fields&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (1) and (&quot;foo&quot;) or (nil)</dt>
    <dd><pre><code>expect(parser.parse('a = (1) and (&quot;foo&quot;) or (nil)')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;or&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;and&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 1
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: &quot;foo&quot;
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: null
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = function() end == function() end</dt>
    <dd><pre><code>expect(parser.parse('a = function() end == function() end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;==&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;FunctionDeclaration&quot;,
            &quot;identifier&quot;: null,
            &quot;vararg&quot;: false,
            &quot;local&quot;: false,
            &quot;parameters&quot;: [],
            &quot;body&quot;: []
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;FunctionDeclaration&quot;,
            &quot;identifier&quot;: null,
            &quot;vararg&quot;: false,
            &quot;local&quot;: false,
            &quot;parameters&quot;: [],
            &quot;body&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = function() end or function() end</dt>
    <dd><pre><code>expect(parser.parse('a = function() end or function() end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;or&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;FunctionDeclaration&quot;,
            &quot;identifier&quot;: null,
            &quot;vararg&quot;: false,
            &quot;local&quot;: false,
            &quot;parameters&quot;: [],
            &quot;body&quot;: []
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;FunctionDeclaration&quot;,
            &quot;identifier&quot;: null,
            &quot;vararg&quot;: false,
            &quot;local&quot;: false,
            &quot;parameters&quot;: [],
            &quot;body&quot;: []
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (((1 or false) and true) or false) == true</dt>
    <dd><pre><code>expect(parser.parse('a = (((1 or false) and true) or false) == true')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;==&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;or&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;LogicalExpression&quot;,
              &quot;operator&quot;: &quot;and&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;LogicalExpression&quot;,
                &quot;operator&quot;: &quot;or&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 1
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: false
                }
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: true
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: false
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: true
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = (((nil and true) or false) and true) == false</dt>
    <dd><pre><code>expect(parser.parse('a = (((nil and true) or false) and true) == false')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;==&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;and&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;LogicalExpression&quot;,
              &quot;operator&quot;: &quot;or&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;LogicalExpression&quot;,
                &quot;operator&quot;: &quot;and&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: null
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: true
                }
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: false
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: true
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: false
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = not ((true or false) and nil)</dt>
    <dd><pre><code>expect(parser.parse('a = not ((true or false) and nil)')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;UnaryExpression&quot;,
          &quot;operator&quot;: &quot;not&quot;,
          &quot;argument&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;and&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;LogicalExpression&quot;,
              &quot;operator&quot;: &quot;or&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: true
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: false
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: null
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = true or false  and nil</dt>
    <dd><pre><code>expect(parser.parse('a = true or false  and nil')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;or&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;value&quot;: true
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;and&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: false
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: null
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 2^-2 == 1/4 and -2^- -2 == - - -4</dt>
    <dd><pre><code>expect(parser.parse('a = 2^-2 == 1/4 and -2^- -2 == - - -4')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;and&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;==&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;^&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 2
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;UnaryExpression&quot;,
                &quot;operator&quot;: &quot;-&quot;,
                &quot;argument&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 2
                }
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;/&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 4
              }
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;==&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;UnaryExpression&quot;,
              &quot;operator&quot;: &quot;-&quot;,
              &quot;argument&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;^&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 2
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;UnaryExpression&quot;,
                  &quot;operator&quot;: &quot;-&quot;,
                  &quot;argument&quot;: {
                    &quot;type&quot;: &quot;UnaryExpression&quot;,
                    &quot;operator&quot;: &quot;-&quot;,
                    &quot;argument&quot;: {
                      &quot;type&quot;: &quot;Literal&quot;,
                      &quot;value&quot;: 2
                    }
                  }
                }
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;UnaryExpression&quot;,
              &quot;operator&quot;: &quot;-&quot;,
              &quot;argument&quot;: {
                &quot;type&quot;: &quot;UnaryExpression&quot;,
                &quot;operator&quot;: &quot;-&quot;,
                &quot;argument&quot;: {
                  &quot;type&quot;: &quot;UnaryExpression&quot;,
                  &quot;operator&quot;: &quot;-&quot;,
                  &quot;argument&quot;: {
                    &quot;type&quot;: &quot;Literal&quot;,
                    &quot;value&quot;: 4
                  }
                }
              }
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = -3-1-5 == 0+0-9</dt>
    <dd><pre><code>expect(parser.parse('a = -3-1-5 == 0+0-9')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;BinaryExpression&quot;,
          &quot;operator&quot;: &quot;==&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;-&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;-&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;UnaryExpression&quot;,
                &quot;operator&quot;: &quot;-&quot;,
                &quot;argument&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 3
                }
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 5
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;-&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;+&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 0
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 0
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 9
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = -2^2 == -4 and (-2)^2 == 4 and 2*2-3-1 == 0</dt>
    <dd><pre><code>expect(parser.parse('a = -2^2 == -4 and (-2)^2 == 4 and 2*2-3-1 == 0')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;and&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;and&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;==&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;UnaryExpression&quot;,
                &quot;operator&quot;: &quot;-&quot;,
                &quot;argument&quot;: {
                  &quot;type&quot;: &quot;BinaryExpression&quot;,
                  &quot;operator&quot;: &quot;^&quot;,
                  &quot;left&quot;: {
                    &quot;type&quot;: &quot;Literal&quot;,
                    &quot;value&quot;: 2
                  },
                  &quot;right&quot;: {
                    &quot;type&quot;: &quot;Literal&quot;,
                    &quot;value&quot;: 2
                  }
                }
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;UnaryExpression&quot;,
                &quot;operator&quot;: &quot;-&quot;,
                &quot;argument&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 4
                }
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;==&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;^&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;UnaryExpression&quot;,
                  &quot;operator&quot;: &quot;-&quot;,
                  &quot;argument&quot;: {
                    &quot;type&quot;: &quot;Literal&quot;,
                    &quot;value&quot;: 2
                  }
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 2
                }
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 4
              }
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;==&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;-&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;-&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;BinaryExpression&quot;,
                  &quot;operator&quot;: &quot;*&quot;,
                  &quot;left&quot;: {
                    &quot;type&quot;: &quot;Literal&quot;,
                    &quot;value&quot;: 2
                  },
                  &quot;right&quot;: {
                    &quot;type&quot;: &quot;Literal&quot;,
                    &quot;value&quot;: 2
                  }
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 3
                }
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 0
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = 2*1+3/3 == 3 and 1+2 .. 3*1 == &quot;33&quot;</dt>
    <dd><pre><code>expect(parser.parse('a = 2*1+3/3 == 3 and 1+2 .. 3*1 == &quot;33&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;and&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;==&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;+&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;*&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 2
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 1
                }
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;/&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 3
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 3
                }
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 3
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;==&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;..&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;+&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 1
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 2
                }
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;*&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 3
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 1
                }
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: &quot;33&quot;
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = not nil and 2 and not(2&gt;3 or 3&lt;2)</dt>
    <dd><pre><code>expect(parser.parse('a = not nil and 2 and not(2&gt;3 or 3&lt;2)')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;and&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;LogicalExpression&quot;,
            &quot;operator&quot;: &quot;and&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;UnaryExpression&quot;,
              &quot;operator&quot;: &quot;not&quot;,
              &quot;argument&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: null
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: 2
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;UnaryExpression&quot;,
            &quot;operator&quot;: &quot;not&quot;,
            &quot;argument&quot;: {
              &quot;type&quot;: &quot;LogicalExpression&quot;,
              &quot;operator&quot;: &quot;or&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;&gt;&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 2
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 3
                }
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;&lt;&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 3
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 2
                }
              }
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = not(2+1 &gt; 3*1) and &quot;a&quot;..&quot;b&quot; &gt; &quot;a&quot;</dt>
    <dd><pre><code>expect(parser.parse('a = not(2+1 &gt; 3*1) and &quot;a&quot;..&quot;b&quot; &gt; &quot;a&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;LogicalExpression&quot;,
          &quot;operator&quot;: &quot;and&quot;,
          &quot;left&quot;: {
            &quot;type&quot;: &quot;UnaryExpression&quot;,
            &quot;operator&quot;: &quot;not&quot;,
            &quot;argument&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;&gt;&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;+&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 2
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 1
                }
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;*&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 3
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 1
                }
              }
            }
          },
          &quot;right&quot;: {
            &quot;type&quot;: &quot;BinaryExpression&quot;,
            &quot;operator&quot;: &quot;&gt;&quot;,
            &quot;left&quot;: {
              &quot;type&quot;: &quot;BinaryExpression&quot;,
              &quot;operator&quot;: &quot;..&quot;,
              &quot;left&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: &quot;a&quot;
              },
              &quot;right&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: &quot;b&quot;
              }
            },
            &quot;right&quot;: {
              &quot;type&quot;: &quot;Literal&quot;,
              &quot;value&quot;: &quot;a&quot;
            }
          }
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>repeat                                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('repeat', {wait:true}).end)
  .throws('[1:6] \'until\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>repeat until                            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('repeat until', {wait:true}).end)
  .throws('[1:12] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>repeat until 0</dt>
    <dd><pre><code>expect(parser.parse('repeat until 0')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;RepeatStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 0
      },
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>repeat until false</dt>
    <dd><pre><code>expect(parser.parse('repeat until false')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;RepeatStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: false
      },
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>repeat until local                      -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('repeat until local', {wait:true}).end)
  .throws('[1:13] &lt;expression&gt; expected near \'local\'');</code></pre></dd>
    <dt>repeat end                              -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('repeat end', {wait:true}).end)
  .throws('[1:7] \'until\' expected near \'end\'');</code></pre></dd>
    <dt>repeat 1                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('repeat 1', {wait:true}).end)
  .throws('[1:7] Unexpected symbol \'1\' near \'1\'');</code></pre></dd>
    <dt>repeat =                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('repeat =', {wait:true}).end)
  .throws('[1:7] Unexpected symbol \'=\' near \'=\'');</code></pre></dd>
    <dt>repeat local a until 1</dt>
    <dd><pre><code>expect(parser.parse('repeat local a until 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;RepeatStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>repeat local a local b until 0</dt>
    <dd><pre><code>expect(parser.parse('repeat local a local b until 0')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;RepeatStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 0
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>repeat local a; local b; until 0</dt>
    <dd><pre><code>expect(parser.parse('repeat local a; local b; until 0')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;RepeatStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 0
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>repeat 2 until 1                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('repeat 2 until 1', {wait:true}).end)
  .throws('[1:7] Unexpected symbol \'2\' near \'2\'');</code></pre></dd>
    <dt>repeat &quot;foo&quot; until 1                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('repeat &quot;foo&quot; until 1', {wait:true}).end)
  .throws('[1:7] Unexpected symbol \'foo\' near \'foo\'');</code></pre></dd>
    <dt>repeat return until 0</dt>
    <dd><pre><code>expect(parser.parse('repeat return until 0')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;RepeatStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 0
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;ReturnStatement&quot;,
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>repeat return return until 0            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('repeat return return until 0', {wait:true}).end)
  .throws('[1:14] \'until\' expected near \'return\'');</code></pre></dd>
    <dt>repeat break until 0</dt>
    <dd><pre><code>expect(parser.parse('repeat break until 0')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;RepeatStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 0
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;BreakStatement&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>repeat do end until 0</dt>
    <dd><pre><code>expect(parser.parse('repeat do end until 0')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;RepeatStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 0
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>repeat do return end until 0</dt>
    <dd><pre><code>expect(parser.parse('repeat do return end until 0')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;RepeatStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 0
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;ReturnStatement&quot;,
              &quot;arguments&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>repeat do break end until 0</dt>
    <dd><pre><code>expect(parser.parse('repeat do break end until 0')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;RepeatStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 0
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;BreakStatement&quot;
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>return return                           -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('return return', {wait:true}).end)
  .throws('[1:7] Unexpected symbol \'return\' near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>return 1</dt>
    <dd><pre><code>expect(parser.parse('return 1')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ReturnStatement&quot;,
      &quot;arguments&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>return local                            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('return local', {wait:true}).end)
  .throws('[1:7] Unexpected symbol \'local\' near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>return &quot;foo&quot;</dt>
    <dd><pre><code>expect(parser.parse('return &quot;foo&quot;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ReturnStatement&quot;,
      &quot;arguments&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: &quot;foo&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>return 1,                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('return 1,', {wait:true}).end)
  .throws('[1:9] &lt;expression&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>return 1,2,3</dt>
    <dd><pre><code>expect(parser.parse('return 1,2,3')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ReturnStatement&quot;,
      &quot;arguments&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        },
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 2
        },
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 3
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>return a,b,c,d</dt>
    <dd><pre><code>expect(parser.parse('return a,b,c,d')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ReturnStatement&quot;,
      &quot;arguments&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;b&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;c&quot;
        },
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;d&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>return 1,2;</dt>
    <dd><pre><code>expect(parser.parse('return 1,2;')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;ReturnStatement&quot;,
      &quot;arguments&quot;: [
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 1
        },
        {
          &quot;type&quot;: &quot;Literal&quot;,
          &quot;value&quot;: 2
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>break</dt>
    <dd><pre><code>expect(parser.parse('break')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;BreakStatement&quot;
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>::foo                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('::foo', {wait:true}).end)
  .throws('[1:5] \'::\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>::foo::</dt>
    <dd><pre><code>expect(parser.parse('::foo::')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;LabelStatement&quot;,
      &quot;label&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;foo&quot;
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>goto                                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('goto', {wait:true}).end)
  .throws('[1:4] &lt;name&gt; expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>goto foo</dt>
    <dd><pre><code>expect(parser.parse('goto foo')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;GotoStatement&quot;,
      &quot;label&quot;: {
        &quot;type&quot;: &quot;Identifier&quot;,
        &quot;name&quot;: &quot;foo&quot;
      }
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = {                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = {', {wait:true}).end)
  .throws('[1:5] \'}\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = {}</dt>
    <dd><pre><code>expect(parser.parse('a = {}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = {,}                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = {,}', {wait:true}).end)
  .throws('[1:5] \'}\' expected near \',\'');</code></pre></dd>
    <dt>a = {;}                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = {;}', {wait:true}).end)
  .throws('[1:5] \'}\' expected near \';\'');</code></pre></dd>
    <dt>a = {,,}                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = {,,}', {wait:true}).end)
  .throws('[1:5] \'}\' expected near \',\'');</code></pre></dd>
    <dt>a = {;;}                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = {;;}', {wait:true}).end)
  .throws('[1:5] \'}\' expected near \';\'');</code></pre></dd>
    <dt>a = {{                                  -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = {{', {wait:true}).end)
  .throws('[1:6] \'}\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = {{{}}}</dt>
    <dd><pre><code>expect(parser.parse('a = {{{}}}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;TableConstructorExpression&quot;,
                &quot;fields&quot;: [
                  {
                    &quot;type&quot;: &quot;TableValue&quot;,
                    &quot;value&quot;: {
                      &quot;type&quot;: &quot;TableConstructorExpression&quot;,
                      &quot;fields&quot;: []
                    }
                  }
                ]
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = {{},{},{{}},}</dt>
    <dd><pre><code>expect(parser.parse('a = {{},{},{{}},}')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;TableConstructorExpression&quot;,
                &quot;fields&quot;: []
              }
            },
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;TableConstructorExpression&quot;,
                &quot;fields&quot;: []
              }
            },
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;TableConstructorExpression&quot;,
                &quot;fields&quot;: [
                  {
                    &quot;type&quot;: &quot;TableValue&quot;,
                    &quot;value&quot;: {
                      &quot;type&quot;: &quot;TableConstructorExpression&quot;,
                      &quot;fields&quot;: []
                    }
                  }
                ]
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { 1 }</dt>
    <dd><pre><code>expect(parser.parse('a = { 1 }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { 1, }</dt>
    <dd><pre><code>expect(parser.parse('a = { 1, }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { 1; }</dt>
    <dd><pre><code>expect(parser.parse('a = { 1; }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { 1, 2 }</dt>
    <dd><pre><code>expect(parser.parse('a = { 1, 2 }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              }
            },
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 2
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { a, b, c, }</dt>
    <dd><pre><code>expect(parser.parse('a = { a, b, c, }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;a&quot;
              }
            },
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;b&quot;
              }
            },
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;c&quot;
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { true; false, nil; }</dt>
    <dd><pre><code>expect(parser.parse('a = { true; false, nil; }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: true
              }
            },
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: false
              }
            },
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: null
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { a.b, a[b]; a:c(), }</dt>
    <dd><pre><code>expect(parser.parse('a = { a.b, a[b]; a:c(), }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;MemberExpression&quot;,
                &quot;indexer&quot;: &quot;.&quot;,
                &quot;identifier&quot;: {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;b&quot;
                },
                &quot;base&quot;: {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;a&quot;
                }
              }
            },
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;IndexExpression&quot;,
                &quot;base&quot;: {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;a&quot;
                },
                &quot;index&quot;: {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;b&quot;
                }
              }
            },
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;CallExpression&quot;,
                &quot;base&quot;: {
                  &quot;type&quot;: &quot;MemberExpression&quot;,
                  &quot;indexer&quot;: &quot;:&quot;,
                  &quot;identifier&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;c&quot;
                  },
                  &quot;base&quot;: {
                    &quot;type&quot;: &quot;Identifier&quot;,
                    &quot;name&quot;: &quot;a&quot;
                  }
                },
                &quot;arguments&quot;: []
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { 1 + 2, a &gt; b, &quot;a&quot; or &quot;b&quot; }</dt>
    <dd><pre><code>expect(parser.parse('a = { 1 + 2, a &gt; b, &quot;a&quot; or &quot;b&quot; }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;+&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 1
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: 2
                }
              }
            },
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;BinaryExpression&quot;,
                &quot;operator&quot;: &quot;&gt;&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;a&quot;
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Identifier&quot;,
                  &quot;name&quot;: &quot;b&quot;
                }
              }
            },
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;LogicalExpression&quot;,
                &quot;operator&quot;: &quot;or&quot;,
                &quot;left&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: &quot;a&quot;
                },
                &quot;right&quot;: {
                  &quot;type&quot;: &quot;Literal&quot;,
                  &quot;value&quot;: &quot;b&quot;
                }
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { a=1, }</dt>
    <dd><pre><code>expect(parser.parse('a = { a=1, }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableKeyString&quot;,
              &quot;key&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;a&quot;
              },
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { a=1, b=&quot;foo&quot;, c=nil }</dt>
    <dd><pre><code>expect(parser.parse('a = { a=1, b=&quot;foo&quot;, c=nil }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableKeyString&quot;,
              &quot;key&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;a&quot;
              },
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              }
            },
            {
              &quot;type&quot;: &quot;TableKeyString&quot;,
              &quot;key&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;b&quot;
              },
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: &quot;foo&quot;
              }
            },
            {
              &quot;type&quot;: &quot;TableKeyString&quot;,
              &quot;key&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;c&quot;
              },
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: null
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { a                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = { a', {wait:true}).end)
  .throws('[1:7] \'}\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = { a=                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = { a=', {wait:true}).end)
  .throws('[1:8] \'}\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = { a=,                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = { a=,', {wait:true}).end)
  .throws('[1:9] \'}\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = { a=;                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = { a=;', {wait:true}).end)
  .throws('[1:9] \'}\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = { 1, a=&quot;foo&quot;                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = { 1, a=&quot;foo&quot;', {wait:true}).end)
  .throws('[1:16] \'}\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = { 1, a=&quot;foo&quot;; b={}, d=true; }</dt>
    <dd><pre><code>expect(parser.parse('a = { 1, a=&quot;foo&quot;; b={}, d=true; }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              }
            },
            {
              &quot;type&quot;: &quot;TableKeyString&quot;,
              &quot;key&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;a&quot;
              },
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: &quot;foo&quot;
              }
            },
            {
              &quot;type&quot;: &quot;TableKeyString&quot;,
              &quot;key&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;b&quot;
              },
              &quot;value&quot;: {
                &quot;type&quot;: &quot;TableConstructorExpression&quot;,
                &quot;fields&quot;: []
              }
            },
            {
              &quot;type&quot;: &quot;TableKeyString&quot;,
              &quot;key&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;d&quot;
              },
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: true
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { [                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = { [', {wait:true}).end)
  .throws('[1:7] \']\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = { [1                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = { [1', {wait:true}).end)
  .throws('[1:8] \']\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = { [1]                               -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = { [1]', {wait:true}).end)
  .throws('[1:9] \'=\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = { [a]=                              -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('a = { [a]=', {wait:true}).end)
  .throws('[1:10] \'}\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>a = { [&quot;foo&quot;]=&quot;bar&quot; }</dt>
    <dd><pre><code>expect(parser.parse('a = { [&quot;foo&quot;]=&quot;bar&quot; }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableKey&quot;,
              &quot;key&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: &quot;foo&quot;
              },
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: &quot;bar&quot;
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { [1]=a, [2]=b, }</dt>
    <dd><pre><code>expect(parser.parse('a = { [1]=a, [2]=b, }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableKey&quot;,
              &quot;key&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              },
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;a&quot;
              }
            },
            {
              &quot;type&quot;: &quot;TableKey&quot;,
              &quot;key&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 2
              },
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;b&quot;
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>a = { true, a=1; [&quot;foo&quot;]=&quot;bar&quot;, }</dt>
    <dd><pre><code>expect(parser.parse('a = { true, a=1; [&quot;foo&quot;]=&quot;bar&quot;, }')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;AssignmentStatement&quot;,
      &quot;variables&quot;: [
        {
          &quot;type&quot;: &quot;Identifier&quot;,
          &quot;name&quot;: &quot;a&quot;
        }
      ],
      &quot;init&quot;: [
        {
          &quot;type&quot;: &quot;TableConstructorExpression&quot;,
          &quot;fields&quot;: [
            {
              &quot;type&quot;: &quot;TableValue&quot;,
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: true
              }
            },
            {
              &quot;type&quot;: &quot;TableKeyString&quot;,
              &quot;key&quot;: {
                &quot;type&quot;: &quot;Identifier&quot;,
                &quot;name&quot;: &quot;a&quot;
              },
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: 1
              }
            },
            {
              &quot;type&quot;: &quot;TableKey&quot;,
              &quot;key&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: &quot;foo&quot;
              },
              &quot;value&quot;: {
                &quot;type&quot;: &quot;Literal&quot;,
                &quot;value&quot;: &quot;bar&quot;
              }
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>while                                   -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('while', {wait:true}).end)
  .throws('[1:5] \'do\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>while do                                -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('while do', {wait:true}).end)
  .throws('[1:8] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>while =                                 -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('while =', {wait:true}).end)
  .throws('[1:6] \'do\' expected near \'=\'');</code></pre></dd>
    <dt>while 1 do                              -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('while 1 do', {wait:true}).end)
  .throws('[1:10] \'end\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>while 1 do end</dt>
    <dd><pre><code>expect(parser.parse('while 1 do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;WhileStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>while 1 do local a end</dt>
    <dd><pre><code>expect(parser.parse('while 1 do local a end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;WhileStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>while 1 do local a local b end</dt>
    <dd><pre><code>expect(parser.parse('while 1 do local a local b end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;WhileStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>while 1 do local a; local b; end</dt>
    <dd><pre><code>expect(parser.parse('while 1 do local a; local b; end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;WhileStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;a&quot;
            }
          ],
          &quot;init&quot;: []
        },
        {
          &quot;type&quot;: &quot;LocalStatement&quot;,
          &quot;variables&quot;: [
            {
              &quot;type&quot;: &quot;Identifier&quot;,
              &quot;name&quot;: &quot;b&quot;
            }
          ],
          &quot;init&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>while 1 do 2 end                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('while 1 do 2 end', {wait:true}).end)
  .throws('[1:11] Unexpected symbol \'2\' near \'2\'');</code></pre></dd>
    <dt>while 1 do &quot;foo&quot; end                    -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('while 1 do &quot;foo&quot; end', {wait:true}).end)
  .throws('[1:11] Unexpected symbol \'foo\' near \'foo\'');</code></pre></dd>
    <dt>while true do end</dt>
    <dd><pre><code>expect(parser.parse('while true do end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;WhileStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: true
      },
      &quot;body&quot;: []
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>while 1 do while                        -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('while 1 do while', {wait:true}).end)
  .throws('[1:16] \'do\' expected near \'&lt;eof&gt;\'');</code></pre></dd>
    <dt>while 1 end                             -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('while 1 end', {wait:true}).end)
  .throws('[1:8] \'do\' expected near \'end\'');</code></pre></dd>
    <dt>while 1 2 do                            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('while 1 2 do', {wait:true}).end)
  .throws('[1:8] \'do\' expected near \'2\'');</code></pre></dd>
    <dt>while 1 = 2 do                          -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('while 1 = 2 do', {wait:true}).end)
  .throws('[1:8] \'do\' expected near \'=\'');</code></pre></dd>
    <dt>while 1 do return end</dt>
    <dd><pre><code>expect(parser.parse('while 1 do return end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;WhileStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;ReturnStatement&quot;,
          &quot;arguments&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>while 1 do return return end            -- FAIL</dt>
    <dd><pre><code>expect(parser.parse('while 1 do return return end', {wait:true}).end)
  .throws('[1:18] \'end\' expected near \'return\'');</code></pre></dd>
    <dt>while 1 do do end end</dt>
    <dd><pre><code>expect(parser.parse('while 1 do do end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;WhileStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: []
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>while 1 do do return end end</dt>
    <dd><pre><code>expect(parser.parse('while 1 do do return end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;WhileStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;ReturnStatement&quot;,
              &quot;arguments&quot;: []
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>while 1 do break end</dt>
    <dd><pre><code>expect(parser.parse('while 1 do break end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;WhileStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;BreakStatement&quot;
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    <dt>while 1 do do break end end</dt>
    <dd><pre><code>expect(parser.parse('while 1 do do break end end')).to.deep.equal({
  &quot;type&quot;: &quot;Chunk&quot;,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;WhileStatement&quot;,
      &quot;condition&quot;: {
        &quot;type&quot;: &quot;Literal&quot;,
        &quot;value&quot;: 1
      },
      &quot;body&quot;: [
        {
          &quot;type&quot;: &quot;DoStatement&quot;,
          &quot;body&quot;: [
            {
              &quot;type&quot;: &quot;BreakStatement&quot;
            }
          ]
        }
      ]
    }
  ],
  &quot;comments&quot;: []
});</code></pre></dd>
    </div>
  </body>
</html>
